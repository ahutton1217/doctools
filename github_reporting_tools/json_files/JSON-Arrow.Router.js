{"tagname":"class","name":"Arrow.Router","extends":null,"mixins":[],"alternateClassNames":[],"aliases":{},"singleton":false,"requires":[],"uses":[],"enum":null,"override":null,"inheritable":null,"inheritdoc":null,"meta":{},"private":null,"id":"class-Arrow.Router","members":{"cfg":[],"property":[{"name":"","tagname":"property","owner":"Arrow.Router","meta":{},"id":"property-"},{"name":"action","tagname":"property","owner":"Arrow.Router","meta":{},"id":"property-action"},{"name":"arrow","tagname":"property","owner":"Arrow.Router","meta":{"nonCreation":[null]},"id":"property-arrow"},{"name":"config","tagname":"property","owner":"Arrow.Router","meta":{"nonCreation":[null]},"id":"property-config"},{"name":"description","tagname":"property","owner":"Arrow.Router","meta":{},"id":"property-description"},{"name":"filename","tagname":"property","owner":"Arrow.Router","meta":{"nonCreation":[null]},"id":"property-filename"},{"name":"method","tagname":"property","owner":"Arrow.Router","meta":{},"id":"property-method"},{"name":"name","tagname":"property","owner":"Arrow.Router","meta":{},"id":"property-name"},{"name":"path","tagname":"property","owner":"Arrow.Router","meta":{},"id":"property-path"},{"name":"route","tagname":"property","owner":"Arrow.Router","meta":{"nonCreation":[null]},"id":"property-route"},{"name":"timestamp","tagname":"property","owner":"Arrow.Router","meta":{"nonCreation":[null]},"id":"property-timestamp"}],"method":[{"name":"constructor","tagname":"method","owner":"Arrow.Router","meta":{},"id":"method-constructor"},{"name":"bind","tagname":"method","owner":"Arrow.Router","meta":{},"id":"method-bind"},{"name":"extend","tagname":"method","owner":"Arrow.Router","meta":{},"id":"method-extend"},{"name":"fn","tagname":"method","owner":"Arrow.Router","meta":{},"id":"method-fn"},{"name":"getMiddleware","tagname":"method","owner":"Arrow.Router","meta":{},"id":"method-getMiddleware"},{"name":"reload","tagname":"method","owner":"Arrow.Router","meta":{},"id":"method-reload"},{"name":"remove","tagname":"method","owner":"Arrow.Router","meta":{},"id":"method-remove"},{"name":"render","tagname":"method","owner":"Arrow.Router","meta":{},"id":"method-render"}],"event":[],"css_var":[],"css_mixin":[]},"linenr":1,"files":[{"filename":"router.js","href":"router.html#Arrow-Router"},{"filename":"router.js","href":"router2.html#Arrow-Router"}],"html_meta":{},"statics":{"cfg":[],"property":[],"method":[{"name":"extend","tagname":"method","owner":"Arrow.Router","meta":{"static":true},"id":"static-method-extend"}],"event":[],"css_var":[],"css_mixin":[]},"component":false,"superclasses":[],"subclasses":[],"mixedInto":[],"parentMixins":[],"html":"<div><div class='sidebar'></div><div class='hierarchy'></div><div class='doc-contents'><p>A Route is one part of the API Builder Web component, which is used to display HTML content\nto the client application. A Route defines the API endpoint used by the application and\nthe logic to execute to render the view files.</p>\n\n<h3>Create a Router Endpoint</h3>\n\n<p>To create a Router, define a new Router instance with the Router constructor,\nthen bind the Router instance to the API Builder server's app instance.</p>\n\n<p>Pass an implementation object, API Builder configuration object and API Builder instance to the constructor.\nSet any Router properties on the implementation object except the ones marked non-creation.\nThe <a href=\"#!/api/Arrow.Router-property-name\" rel=\"Arrow.Router-property-name\" class=\"docClass\">name</a> property must be set.</p>\n\n<p>To render a view file, in the <code>action</code> function, invoke the <a href=\"http://expressjs.com/4x/api.html#res.render\">render()</a>\nmethod on the response object. Pass the view file, located in the <code>./web/views</code> folder,\nto render minus the file extension and the data to apply to the template. API Builder Tools selects the\nrenderer engine to use based on the extension of the view file.</p>\n\n<p>After creating the Router instance, call its <a href=\"#bind\">bind()</a> method and pass it an app instance.</p>\n\n<pre><code>var foo = new <a href=\"#!/api/Arrow.Router\" rel=\"Arrow.Router\" class=\"docClass\">Arrow.Router</a>({\n    name: 'foo',\n    path: '/foo',\n    method: 'GET',\n    description: 'Render the foo view',\n    action: function (req, res, next) {\n        res.render('foo', {foobar: 'hello', foobaz: 'world'});\n        next();\n    }\n}, server.config, server);\nfoo.bind(server.app);\n</code></pre>\n\n<p>Alternatively, you can define your Routes using JavaScript files, which are automatically loaded\nby the API Builder project. For details, see the\n<a href=\"https://docs.axway.com/bundle/API_Builder_allOS_en/page/api_builder_web.html\">API Builder Web guide</a>.</p>\n</div><div class='members'><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-property'>Properties</h3><div class='subsection'><div id='property-' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Arrow.Router'>Arrow.Router</span></div><a href='#!/api/Arrow.Router-property-' class='name not-expandable'></a><span>: Object</span></div><div class='description'><div class='short'><p>Creates a Router.</p>\n</div><div class='long'><p>Creates a Router.</p>\n</div></div></div><div id='property-action' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Arrow.Router'>Arrow.Router</span></div><a href='#!/api/Arrow.Router-property-action' class='name expandable'>action</a><span>: Function</span></div><div class='description'><div class='short'>Logic to execute when the endpoint is invoked by the client application. ...</div><div class='long'><p>Logic to execute when the endpoint is invoked by the client application.\nThe function is passed a request object, response object and next() function.\nYou should always make sure that the action function calls the next() function\nregardless if the result is a success or an error.</p>\n</div></div></div><div id='property-arrow' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Arrow.Router'>Arrow.Router</span></div><a href='#!/api/Arrow.Router-property-arrow' class='name not-expandable'>arrow</a><span>: <a href=\"#!/api/Arrow\" rel=\"Arrow\" class=\"docClass\">Arrow</a></span><strong class='nonCreation signature' >Non-Creation</strong></div><div class='description'><div class='short'><p>API Builder instance associated with the Router instance.</p>\n</div><div class='long'><p>API Builder instance associated with the Router instance.</p>\n</div></div></div><div id='property-config' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Arrow.Router'>Arrow.Router</span></div><a href='#!/api/Arrow.Router-property-config' class='name not-expandable'>config</a><span>: Object</span><strong class='nonCreation signature' >Non-Creation</strong></div><div class='description'><div class='short'><p>Configuration object used to initialize the Router instance.</p>\n</div><div class='long'><p>Configuration object used to initialize the Router instance.</p>\n</div></div></div><div id='property-description' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Arrow.Router'>Arrow.Router</span></div><a href='#!/api/Arrow.Router-property-description' class='name not-expandable'>description</a><span>: String</span></div><div class='description'><div class='short'><p>Human-readable description of the API, which is used by the generated API documentation.</p>\n</div><div class='long'><p>Human-readable description of the API, which is used by the generated API documentation.</p>\n</div></div></div><div id='property-filename' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Arrow.Router'>Arrow.Router</span></div><a href='#!/api/Arrow.Router-property-filename' class='name not-expandable'>filename</a><span>: String</span><strong class='nonCreation signature' >Non-Creation</strong></div><div class='description'><div class='short'><p>File used to load the Router instance.</p>\n</div><div class='long'><p>File used to load the Router instance.</p>\n</div></div></div><div id='property-method' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Arrow.Router'>Arrow.Router</span></div><a href='#!/api/Arrow.Router-property-method' class='name not-expandable'>method</a><span>: String</span></div><div class='description'><div class='short'><p>HTTP verb: <code>GET</code>, <code>PUT</code>, <code>POST</code> or <code>DELETE</code>.</p>\n</div><div class='long'><p>HTTP verb: <code>GET</code>, <code>PUT</code>, <code>POST</code> or <code>DELETE</code>.</p>\n</div></div></div><div id='property-name' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Arrow.Router'>Arrow.Router</span></div><a href='#!/api/Arrow.Router-property-name' class='name not-expandable'>name</a><span>: String</span></div><div class='description'><div class='short'><p>Name of the route used for identification.</p>\n</div><div class='long'><p>Name of the route used for identification.</p>\n</div></div></div><div id='property-path' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Arrow.Router'>Arrow.Router</span></div><a href='#!/api/Arrow.Router-property-path' class='name not-expandable'>path</a><span>: String</span></div><div class='description'><div class='short'><p>API endpoint.</p>\n</div><div class='long'><p>API endpoint.</p>\n</div></div></div><div id='property-route' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Arrow.Router'>Arrow.Router</span></div><a href='#!/api/Arrow.Router-property-route' class='name not-expandable'>route</a><span>: Object</span><strong class='nonCreation signature' >Non-Creation</strong></div><div class='description'><div class='short'><p>Express route instance that binds the endpoint to the logic.</p>\n</div><div class='long'><p>Express route instance that binds the endpoint to the logic.</p>\n</div></div></div><div id='property-timestamp' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Arrow.Router'>Arrow.Router</span></div><a href='#!/api/Arrow.Router-property-timestamp' class='name not-expandable'>timestamp</a><span>: String</span><strong class='nonCreation signature' >Non-Creation</strong></div><div class='description'><div class='short'><p>Datetime when the route was last synced.</p>\n</div><div class='long'><p>Datetime when the route was last synced.</p>\n</div></div></div></div></div><div class='members-section'><h3 class='members-title icon-method'>Methods</h3><div class='subsection'><div class='definedBy'>Defined By</div><h4 class='members-subtitle'>Instance Methods</h3><div id='method-constructor' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Arrow.Router'>Arrow.Router</span></div><strong class='new-keyword'>new</strong><a href='#!/api/Arrow.Router-method-constructor' class='name expandable'>Arrow.Router</a>(<span class='pre'>impl, config, arrow</span>): <a href=\"#!/api/Arrow.Router\" rel=\"Arrow.Router\" class=\"docClass\">Arrow.Router</a></div><div class='description'><div class='short'>Creates a new Router instance. ...</div><div class='long'><p>Creates a new Router instance.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>impl</span>: <a href=\"#!/api/Dictionary\" rel=\"Dictionary\" class=\"docClass\">Dictionary</a>&lt;<a href=\"#!/api/Arrow.Router\" rel=\"Arrow.Router\" class=\"docClass\">Arrow.Router</a>&gt;<div class='sub-desc'><p>Implementation object.\nSet any Router properties on the object except the ones marked non-creation.\nThe <a href=\"#!/api/Arrow.Router-property-name\" rel=\"Arrow.Router-property-name\" class=\"docClass\">name</a> property must be set.</p>\n</div></li><li><span class='pre'>config</span>: Object<div class='sub-desc'><p>API Builder configuration object.</p>\n</div></li><li><span class='pre'>arrow</span>: <a href=\"#!/api/Arrow\" rel=\"Arrow\" class=\"docClass\">Arrow</a><div class='sub-desc'><p>Arrow instance.</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'><a href=\"#!/api/Arrow.Router\" rel=\"Arrow.Router\" class=\"docClass\">Arrow.Router</a></span><div class='sub-desc'>\n</div></li></ul><h3 class='pa'>Throws</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>Error Missing <code>name</code> parameter.</p>\n</div></li></ul></div></div></div><div id='method-bind' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Arrow.Router'>Arrow.Router</span></div><a href='#!/api/Arrow.Router-method-bind' class='name expandable'>bind</a>(<span class='pre'>app</span>)</div><div class='description'><div class='short'>Binds this route to the app instance. ...</div><div class='long'><p>Binds this route to the app instance.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>app</span>: Object<div class='sub-desc'><p>App instance.</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>void</span></li></ul><h3 class='pa'>Throws</h3><ul><li><span class='pre'><a href=\"#!/api/Error\" rel=\"Error\" class=\"docClass\">Error</a></span><div class='sub-desc'><p>Missing app instance.</p>\n</div></li></ul></div></div></div><div id='method-extend' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Arrow.Router'>Arrow.Router</span></div><a href='#!/api/Arrow.Router-method-extend' class='name expandable'>extend</a>(<span class='pre'>impl</span>): Function</div><div class='description'><div class='short'>Returns a constructor function to generate a new Router endpoint. ...</div><div class='long'><p>Returns a constructor function to generate a new Router endpoint.\nPass the constructor an Arrow configuration object and Arrow instance.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>impl</span>: <a href=\"#!/api/Dictionary\" rel=\"Dictionary\" class=\"docClass\">Dictionary</a>&lt;<a href=\"#!/api/Arrow.Router\" rel=\"Arrow.Router\" class=\"docClass\">Arrow.Router</a>&gt;<div class='sub-desc'><p>Implementation object.</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Function</span><div class='sub-desc'>\n</div></li></ul><h3 class='pa'>Throws</h3><ul><li><span class='pre'><a href=\"#!/api/Error\" rel=\"Error\" class=\"docClass\">Error</a></span><div class='sub-desc'><p>Missing name parameter.</p>\n</div></li></ul></div></div></div><div id='method-fn' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Arrow.Router'>Arrow.Router</span></div><a href='#!/api/Arrow.Router-method-fn' class='name expandable'>fn</a>(<span class='pre'>req, resp, next</span>)</div><div class='description'><div class='short'>Handles the middleware request, making sure API Builder Tools' security measures are applied and we are set up for ha...</div><div class='long'><p>Handles the middleware request, making sure API Builder Tools' security measures are applied and we are set up for handling\nthe request.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>req</span>: Object<div class='sub-desc'>\n</div></li><li><span class='pre'>resp</span>: Object<div class='sub-desc'>\n</div></li><li><span class='pre'>next</span>: Object<div class='sub-desc'>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>void</span></li></ul></div></div></div><div id='method-getMiddleware' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Arrow.Router'>Arrow.Router</span></div><a href='#!/api/Arrow.Router-method-getMiddleware' class='name expandable'>getMiddleware</a>(<span class='pre'></span>): Function</div><div class='description'><div class='short'>Gets the middleware block that provides access to the\nroute's action implementation. ...</div><div class='long'><p>Gets the middleware block that provides access to the\nroute's action implementation.\nPass the function returned by this method a request object,\nresponse object, and the function to call next.</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Function</span><div class='sub-desc'>\n</div></li></ul></div></div></div><div id='method-reload' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Arrow.Router'>Arrow.Router</span></div><a href='#!/api/Arrow.Router-method-reload' class='name expandable'>reload</a>(<span class='pre'>arrow, callback</span>)</div><div class='description'><div class='short'>Reloads the route. ...</div><div class='long'><p>Reloads the route. Call this function if changes were made to the route.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>arrow</span>: Object<div class='sub-desc'><p>Arrow instance.</p>\n</div></li><li><span class='pre'>callback</span>: Function<div class='sub-desc'><p>Callback passed an Error object (or null if successful) and the reloaded route.</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>void</span></li></ul></div></div></div><div id='method-remove' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Arrow.Router'>Arrow.Router</span></div><a href='#!/api/Arrow.Router-method-remove' class='name expandable'>remove</a>(<span class='pre'>arrow, callback</span>)</div><div class='description'><div class='short'>Removes the route from the Arrow instance. ...</div><div class='long'><p>Removes the route from the Arrow instance.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>arrow</span>: Object<div class='sub-desc'><p>Arrow instance.</p>\n</div></li><li><span class='pre'>callback</span>: Function<div class='sub-desc'><p>Callback passed an Error object (or null if successful) and the removed route.</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>void</span></li></ul></div></div></div><div id='method-render' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Arrow.Router'>Arrow.Router</span></div><a href='#!/api/Arrow.Router-method-render' class='name expandable'>render</a>(<span class='pre'>name, args, cb</span>)</div><div class='description'><div class='short'>do implicit or explicit handling of next in render ...</div><div class='long'><p>do implicit or explicit handling of next in render</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>name</span>: Object<div class='sub-desc'>\n</div></li><li><span class='pre'>args</span>: Object<div class='sub-desc'>\n</div></li><li><span class='pre'>cb</span>: Object<div class='sub-desc'>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>void</span></li></ul></div></div></div></div><div class='subsection'><div class='definedBy'>Defined By</div><h4 class='members-subtitle'>Static Methods</h3><div id='static-method-extend' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Arrow.Router'>Arrow.Router</span></div><a href='#!/api/Arrow.Router-static-method-extend' class='name expandable'>extend</a>(<span class='pre'>impl</span>): Function<strong class='static signature' >static</strong></div><div class='description'><div class='short'>Returns a constructor function to generate a new Router endpoint. ...</div><div class='long'><p>Returns a constructor function to generate a new Router endpoint.\nPass the constructor an Arrow configuration object and Arrow instance.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>impl</span>: <a href=\"#!/api/Dictionary\" rel=\"Dictionary\" class=\"docClass\">Dictionary</a>&lt;<a href=\"#!/api/Arrow.Router\" rel=\"Arrow.Router\" class=\"docClass\">Arrow.Router</a>&gt;<div class='sub-desc'><p>Implementation object.</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Function</span><div class='sub-desc'>\n</div></li></ul><h3 class='pa'>Throws</h3><ul><li><span class='pre'><a href=\"#!/api/Error\" rel=\"Error\" class=\"docClass\">Error</a></span><div class='sub-desc'><p>Missing name parameter or not called from a valid Arrow instance.</p>\n</div></li></ul></div></div></div></div></div></div></div>"}