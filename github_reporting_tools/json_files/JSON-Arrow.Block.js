{"tagname":"class","name":"Arrow.Block","extends":null,"mixins":[],"alternateClassNames":[],"aliases":{},"singleton":false,"requires":[],"uses":[],"enum":null,"override":null,"inheritable":null,"inheritdoc":null,"meta":{},"private":null,"id":"class-Arrow.Block","members":{"cfg":[],"property":[{"name":"arrow","tagname":"property","owner":"Arrow.Block","meta":{"nonCreation":[null]},"id":"property-arrow"},{"name":"config","tagname":"property","owner":"Arrow.Block","meta":{"nonCreation":[null]},"id":"property-config"},{"name":"constructor","tagname":"property","owner":"Arrow.Block","meta":{},"id":"property-constructor"},{"name":"description","tagname":"property","owner":"Arrow.Block","meta":{},"id":"property-description"},{"name":"execute","tagname":"property","owner":"Arrow.Block","meta":{},"id":"property-execute"},{"name":"filename","tagname":"property","owner":"Arrow.Block","meta":{"nonCreation":[null]},"id":"property-filename"},{"name":"name","tagname":"property","owner":"Arrow.Block","meta":{},"id":"property-name"}],"method":[{"name":"constructor","tagname":"method","owner":"Arrow.Block","meta":{},"id":"method-constructor"},{"name":"extend","tagname":"method","owner":"Arrow.Block","meta":{},"id":"method-extend"},{"name":"getMiddleware","tagname":"method","owner":"Arrow.Block","meta":{},"id":"method-getMiddleware"}],"event":[],"css_var":[],"css_mixin":[]},"linenr":1,"files":[{"filename":"block.js","href":"block.html#Arrow-Block"},{"filename":"block.js","href":"block2.html#Arrow-Block"}],"html_meta":{},"statics":{"cfg":[],"property":[],"method":[{"name":"extend","tagname":"method","owner":"Arrow.Block","meta":{"static":true},"id":"static-method-extend"}],"event":[],"css_var":[],"css_mixin":[]},"component":false,"superclasses":[],"subclasses":[],"mixedInto":[],"parentMixins":[],"html":"<div><div class='sidebar'></div><div class='hierarchy'></div><div class='doc-contents'><p>A Block is a function that is executed before or after calling an API endpoint.</p>\n\n<p>To create a block, pass the constructor an implementation object, API Builder configuration object\nand API Builder instance to create a block instance, then pass the Block instance to the\nAPI Builder instance's <a href=\"#!/api/Arrow-method-addBlock\" rel=\"Arrow-method-addBlock\" class=\"docClass\">addBlock()</a> method.</p>\n\n<pre><code>var block = new <a href=\"#!/api/Arrow.Block\" rel=\"Arrow.Block\" class=\"docClass\">Arrow.Block</a>({\n    name: 'blocky',\n    execute: function (request, response, next) {\n        next();\n    }\n});\nserver.addBlock(block);\n</code></pre>\n\n<p>To use a block, assign it to the <code>before</code> or <code>after</code> property of the implementation object\npassed to the API or Model constructor. A Block is identified by its <code>name</code> property.\nYou may specify more than one block by using an array. The blocks will be executed in order.</p>\n\n<pre><code>var fooAPI = new <a href=\"#!/api/Arrow.API\" rel=\"Arrow.API\" class=\"docClass\">Arrow.API</a>({\n    group: 'foo',\n    path: '/api/foo/',\n    method: 'GET',\n    description: 'Get all the Foo objects',\n    before: ['block1', 'block2'],\n    model: 'testuser',\n    action: function(request, response, next) {\n        request.model.findAll(function(err, results) {\n            if (err) {\n                next(err);\n            } else {\n                next(null, results);\n            }\n        });\n    }\n}, server.config, server);\nfooAPI.bind(server.app);\n</code></pre>\n\n<p>Alternatively, you can define your Blocks using JavaScript files. For details, see the\n<a href=\"https://docs.axway.com/bundle/API_Builder_allOS_en/page/api_builder_blocks.html\">API Builder Blocks guide</a>.</p>\n</div><div class='members'><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-property'>Properties</h3><div class='subsection'><div id='property-arrow' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Arrow.Block'>Arrow.Block</span></div><a href='#!/api/Arrow.Block-property-arrow' class='name not-expandable'>arrow</a><span>: <a href=\"#!/api/Arrow\" rel=\"Arrow\" class=\"docClass\">Arrow</a></span><strong class='nonCreation signature' >Non-Creation</strong></div><div class='description'><div class='short'><p>API Builder instance associated with the Block instance.</p>\n</div><div class='long'><p>API Builder instance associated with the Block instance.</p>\n</div></div></div><div id='property-config' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Arrow.Block'>Arrow.Block</span></div><a href='#!/api/Arrow.Block-property-config' class='name not-expandable'>config</a><span>: Object</span><strong class='nonCreation signature' >Non-Creation</strong></div><div class='description'><div class='short'><p>Configuration object used to initialize the Block instance.</p>\n</div><div class='long'><p>Configuration object used to initialize the Block instance.</p>\n</div></div></div><div id='property-constructor' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Arrow.Block'>Arrow.Block</span></div><a href='#!/api/Arrow.Block-property-constructor' class='name expandable'>constructor</a><span>: Function</span></div><div class='description'><div class='short'>Custom constructor to execute custom initialization logic. ...</div><div class='long'><p>Custom constructor to execute custom initialization logic. The new block instance is passed to\n<code>this</code> in the function.</p>\n</div></div></div><div id='property-description' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Arrow.Block'>Arrow.Block</span></div><a href='#!/api/Arrow.Block-property-description' class='name not-expandable'>description</a><span>: String</span></div><div class='description'><div class='short'><p>Human-readable description of the block, which is used by the generated API documentation.</p>\n</div><div class='long'><p>Human-readable description of the block, which is used by the generated API documentation.</p>\n</div></div></div><div id='property-execute' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Arrow.Block'>Arrow.Block</span></div><a href='#!/api/Arrow.Block-property-execute' class='name expandable'>execute</a><span>: Function</span></div><div class='description'><div class='short'>Logic to execute. ...</div><div class='long'><p>Logic to execute. The function is passed a <code>request</code> object, <code>response</code> object and <code>next()</code> callback.\nAfter the operation completes, call the <code>next()</code> function.</p>\n</div></div></div><div id='property-filename' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Arrow.Block'>Arrow.Block</span></div><a href='#!/api/Arrow.Block-property-filename' class='name not-expandable'>filename</a><span>: String</span><strong class='nonCreation signature' >Non-Creation</strong></div><div class='description'><div class='short'><p>File used to load the Block instance.</p>\n</div><div class='long'><p>File used to load the Block instance.</p>\n</div></div></div><div id='property-name' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Arrow.Block'>Arrow.Block</span></div><a href='#!/api/Arrow.Block-property-name' class='name not-expandable'>name</a><span>: String</span></div><div class='description'><div class='short'><p>Name used to identify the block.</p>\n</div><div class='long'><p>Name used to identify the block.</p>\n</div></div></div></div></div><div class='members-section'><h3 class='members-title icon-method'>Methods</h3><div class='subsection'><div class='definedBy'>Defined By</div><h4 class='members-subtitle'>Instance Methods</h3><div id='method-constructor' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Arrow.Block'>Arrow.Block</span></div><strong class='new-keyword'>new</strong><a href='#!/api/Arrow.Block-method-constructor' class='name expandable'>Arrow.Block</a>(<span class='pre'>impl, config, arrow</span>): <a href=\"#!/api/Arrow.Block\" rel=\"Arrow.Block\" class=\"docClass\">Arrow.Block</a></div><div class='description'><div class='short'>Creates an new instance of a Block. ...</div><div class='long'><p>Creates an new instance of a Block.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>impl</span>: <a href=\"#!/api/Dictionary\" rel=\"Dictionary\" class=\"docClass\">Dictionary</a>&lt;<a href=\"#!/api/Arrow.Block\" rel=\"Arrow.Block\" class=\"docClass\">Arrow.Block</a>&gt;<div class='sub-desc'><p>Implementation object.\nSet any Block properties on the object except the ones marked non-creation.\nThe <a href=\"#!/api/Arrow.Block-property-name\" rel=\"Arrow.Block-property-name\" class=\"docClass\">name</a> property must be set.</p>\n</div></li><li><span class='pre'>config</span>: Object<div class='sub-desc'><p>API Builder configuration object.</p>\n</div></li><li><span class='pre'>arrow</span>: <a href=\"#!/api/Arrow\" rel=\"Arrow\" class=\"docClass\">Arrow</a><div class='sub-desc'><p>API Builder instance.</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'><a href=\"#!/api/Arrow.Block\" rel=\"Arrow.Block\" class=\"docClass\">Arrow.Block</a></span><div class='sub-desc'>\n</div></li></ul><h3 class='pa'>Throws</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>Error Missing <code>name</code> parameter.</p>\n</div></li></ul></div></div></div><div id='method-extend' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Arrow.Block'>Arrow.Block</span></div><a href='#!/api/Arrow.Block-method-extend' class='name expandable'>extend</a>(<span class='pre'>impl</span>): Function</div><div class='description'><div class='short'>Returns a constructor function to generate a new Block. ...</div><div class='long'><p>Returns a constructor function to generate a new Block.\nPass the constructor an Arrow configuration object and Arrow instance.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>impl</span>: <a href=\"#!/api/Dictionary\" rel=\"Dictionary\" class=\"docClass\">Dictionary</a>&lt;<a href=\"#!/api/Arrow.Block\" rel=\"Arrow.Block\" class=\"docClass\">Arrow.Block</a>&gt;<div class='sub-desc'><p>Implementation object.</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Function</span><div class='sub-desc'>\n</div></li></ul><h3 class='pa'>Throws</h3><ul><li><span class='pre'><a href=\"#!/api/Error\" rel=\"Error\" class=\"docClass\">Error</a></span><div class='sub-desc'><p>Missing name parameter or not called from a valid Arrow instance.</p>\n</div></li></ul></div></div></div><div id='method-getMiddleware' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Arrow.Block'>Arrow.Block</span></div><a href='#!/api/Arrow.Block-method-getMiddleware' class='name expandable'>getMiddleware</a>(<span class='pre'></span>): Function</div><div class='description'><div class='short'>Gets the middleware block that provides access to the\nblock's execute implementation. ...</div><div class='long'><p>Gets the middleware block that provides access to the\nblock's execute implementation.\nPass the function returned by this method a request object,\nresponse object, and the function to call next.</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Function</span><div class='sub-desc'>\n</div></li></ul></div></div></div></div><div class='subsection'><div class='definedBy'>Defined By</div><h4 class='members-subtitle'>Static Methods</h3><div id='static-method-extend' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Arrow.Block'>Arrow.Block</span></div><a href='#!/api/Arrow.Block-static-method-extend' class='name expandable'>extend</a>(<span class='pre'>impl</span>): Function<strong class='static signature' >static</strong></div><div class='description'><div class='short'>Returns a constructor function to generate a new Block. ...</div><div class='long'><p>Returns a constructor function to generate a new Block.\nPass the constructor an Arrow configuration object and Arrow instance.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>impl</span>: <a href=\"#!/api/Dictionary\" rel=\"Dictionary\" class=\"docClass\">Dictionary</a>&lt;<a href=\"#!/api/Arrow.Block\" rel=\"Arrow.Block\" class=\"docClass\">Arrow.Block</a>&gt;<div class='sub-desc'><p>Implementation object.</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Function</span><div class='sub-desc'>\n</div></li></ul><h3 class='pa'>Throws</h3><ul><li><span class='pre'><a href=\"#!/api/Error\" rel=\"Error\" class=\"docClass\">Error</a></span><div class='sub-desc'><p>Missing name parameter or not called from a valid Arrow instance.</p>\n</div></li></ul></div></div></div></div></div></div></div>"}