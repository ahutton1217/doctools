<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Flow Definition</title>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta content="Scroll EclipseHelp Exporter" name="generator">

    <link type="text/css" rel="stylesheet">
    <link type="text/css" rel="stylesheet">
    <link type="text/css" rel="stylesheet" media="print">
</link></link></link></meta></meta></head>
<body>
    <div class="container">
        <div class="header"/>

        <div id="src-49158401" class="content">
                        <h1>Flow Definition</h1>
<ul class="toc-indentation "><li class=" ">    <p><a class="document-link " href="#!/guide/Flow_Definition-section-src-49158401_FlowDefinition-Flowdefinition">Flow definition</a>    </p>
</li><li class=" ">    <p><a class="document-link " href="#!/guide/Flow_Definition-section-src-49158401_FlowDefinition-Flowdefinitionexample">Flow definition example</a>    </p>
</li><li class=" ">    <p><a class="document-link " href="#!/guide/Flow_Definition-section-src-49158401_FlowDefinition-Nodes">Nodes</a>    </p>
<ul class="toc-indentation "><li class=" ">    <p><a class="document-link " href="#!/guide/Flow_Definition-section-src-49158401_FlowDefinition-Nodesexample">Nodes example</a>    </p>
</li></ul></li><li class=" ">    <p><a class="document-link " href="#!/guide/Flow_Definition-section-src-49158401_FlowDefinition-Node">Node</a>    </p>
<ul class="toc-indentation "><li class=" ">    <p><a class="document-link " href="#!/guide/Flow_Definition-section-src-49158401_FlowDefinition-Nodeexample">Node example</a>    </p>
</li></ul></li><li class=" ">    <p><a class="document-link " href="#!/guide/Flow_Definition-section-src-49158401_FlowDefinition-Parameter">Parameter</a>    </p>
<ul class="toc-indentation "><li class=" ">    <p><a class="document-link " href="#!/guide/Flow_Definition-section-src-49158401_FlowDefinition-Parameterexample">Parameter example</a>    </p>
</li></ul></li><li class=" ">    <p><a class="document-link " href="#!/guide/Flow_Definition-section-src-49158401_FlowDefinition-Response">Response</a>    </p>
<ul class="toc-indentation "><li class=" ">    <p><a class="document-link " href="#!/guide/Flow_Definition-section-src-49158401_FlowDefinition-Responseexample">Response example</a>    </p>
</li></ul></li><li class=" ">    <p><a class="document-link " href="#!/guide/Flow_Definition-section-src-49158401_FlowDefinition-Context">Context</a>    </p>
<ul class="toc-indentation "><li class=" ">    <p><a class="document-link " href="#!/guide/Flow_Definition-section-src-49158401_FlowDefinition-Contextexample">Context example</a>    </p>
</li></ul></li><li class=" ">    <p><a class="document-link " href="#!/guide/Flow_Definition-section-src-49158401_FlowDefinition-Route">Route</a>    </p>
<ul class="toc-indentation "><li class=" ">    <p><a class="document-link " href="#!/guide/Flow_Definition-section-src-49158401_FlowDefinition-Routeexample">Route example</a>    </p>
</li></ul></li><li class=" ">    <p><a class="document-link " href="#!/guide/Flow_Definition-section-src-49158401_FlowDefinition-Condition">Condition</a>    </p>
<ul class="toc-indentation "><li class=" ">    <p><a class="document-link " href="#!/guide/Flow_Definition-section-src-49158401_FlowDefinition-Conditionexample">Condition example</a>    </p>
</li></ul></li><li class=" ">    <p><a class="document-link " href="#!/guide/Flow_Definition-section-src-49158401_FlowDefinition-Returns">Returns</a>    </p>
<ul class="toc-indentation "><li class=" ">    <p><a class="document-link " href="#!/guide/Flow_Definition-section-src-49158401_FlowDefinition-Returnsexample">Returns example</a>    </p>
</li></ul></li></ul>    <div class="section section-2 " id="src-49158401_FlowDefinition-Flowdefinition">
        <h2 class="heading "><span>Flow definition</span></h2>
    <p>This section contains a detailed breakdown of how the Flow configuration is defined, alongside a number of examples. The base object is as follows:    </p>
    <div class="tablewrap">
        <table class="confluenceTable">
        <thead class=" ">    <tr>
            <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Property    </p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Description    </p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Required    </p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Type    </p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Example    </p>
            </td>
        </tr>
</thead><tfoot class=" "/><tbody class=" ">    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>version    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>The flow version.    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>Yes    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>string    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p><tt class=" ">1</tt>    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>start    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>The ID of the first node to be executed.    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>Yes    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>string    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p><tt class=" ">node.1</tt>    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>nodes    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>The nodes to be used by the flow.    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>Yes    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>object    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p><a class="document-link " href="#!/guide/Flow_Definition-section-src-49158401_FlowDefinition-Nodes">Nodes</a>    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>returns    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>A <a class="external-link external-link" href="https://docs.google.com/document/d/1g1Dc1Hx-eKZRajpWpG7d7XtUyvIcv9txa4P1XWErDr8/edit#heading=h.4l1elv7ulxtj" target="_blank">JSONPath</a> evaluated against the final context and returned as the result of the flow.    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>No    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>string, object    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p><a class="document-link " href="#!/guide/Flow_Definition-section-src-49158401_FlowDefinition-Returns">Returns</a>    </p>
            </td>
        </tr>
</tbody>        </table>
            </div>
    </div>
    <div class="section section-2 " id="src-49158401_FlowDefinition-Flowdefinitionexample">
        <h2 class="heading "><span>Flow definition example</span></h2>
    <p>This is an example flow which comes with every API Builder Project. It has three node instances in a branch. The flow starts with <tt class=" ">block.1</tt> which invokes the &#x201C;Greet&#x201D; <a class="document-link " href="#!/guide/Nodes_-_Codeblock">Codeblock</a> with the username parameter that the endpoint was called with. Depending on the response, the flow will either go to <tt class=" ">response.success</tt> and set the response code as 200, and the response as the value of the greeting returned from the <a class="document-link " href="#!/guide/Nodes_-_Codeblock">Codeblock</a>, or in the case of an error being returned in the response, the response code will be set as 400 before the flow terminates.    </p>
    <div class="confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">  </code><code class="string">&quot;version&quot;</code><code class="plain">: </code><code class="string">&quot;1&quot;</code><code class="plain">,</code></div>
<div class="line"><code class="plain">  </code><code class="string">&quot;returns&quot;</code><code class="plain">: {</code></div>
<div class="line"><code class="plain">    </code><code class="string">&quot;status&quot;</code><code class="plain">: </code><code class="string">&quot;$.status|0&quot;</code><code class="plain">,</code></div>
<div class="line"><code class="plain">    </code><code class="string">&quot;data&quot;</code><code class="plain">: </code><code class="string">&quot;$.response|0&quot;</code></div>
<div class="line"><code class="plain">  },</code></div>
<div class="line"><code class="plain">  </code><code class="string">&quot;start&quot;</code><code class="plain">: </code><code class="string">&quot;block.1&quot;</code><code class="plain">,</code></div>
<div class="line"><code class="plain">  </code><code class="string">&quot;nodes&quot;</code><code class="plain">: {</code></div>
<div class="line"><code class="plain">    </code><code class="string">&quot;block.1&quot;</code><code class="plain">: {</code></div>
<div class="line"><code class="plain">      </code><code class="string">&quot;type&quot;</code><code class="plain">: </code><code class="string">&quot;Codeblock&quot;</code><code class="plain">,</code></div>
<div class="line"><code class="plain">      </code><code class="string">&quot;config&quot;</code><code class="plain">: {</code></div>
<div class="line"><code class="plain">        </code><code class="string">&quot;method&quot;</code><code class="plain">: </code><code class="string">&quot;Greet&quot;</code></div>
<div class="line"><code class="plain">      },</code></div>
<div class="line"><code class="plain">      </code><code class="string">&quot;parameters&quot;</code><code class="plain">: [{</code></div>
<div class="line"><code class="plain">          </code><code class="string">&quot;name&quot;</code><code class="plain">: </code><code class="string">&quot;username&quot;</code><code class="plain">,</code></div>
<div class="line"><code class="plain">          </code><code class="string">&quot;value&quot;</code><code class="plain">: </code><code class="string">&quot;$.params.username|0&quot;</code><code class="plain">,</code></div>
<div class="line"><code class="plain">          </code><code class="string">&quot;default&quot;</code><code class="plain">: </code><code class="string">&quot;Mr. Nobody&quot;</code></div>
<div class="line"><code class="plain">        }</code></div>
<div class="line"><code class="plain">      ],</code></div>
<div class="line"><code class="plain">      </code><code class="string">&quot;response&quot;</code><code class="plain">: {</code></div>
<div class="line"><code class="plain">        </code><code class="string">&quot;context&quot;</code><code class="plain">: {</code></div>
<div class="line"><code class="plain">          </code><code class="string">&quot;$|0&quot;</code><code class="plain">: </code><code class="string">&quot;greeting&quot;</code></div>
<div class="line"><code class="plain">        },</code></div>
<div class="line"><code class="plain">        </code><code class="string">&quot;routes&quot;</code><code class="plain">: [</code></div>
<div class="line"><code class="plain">          {</code></div>
<div class="line"><code class="plain">            </code><code class="string">&quot;conditions&quot;</code><code class="plain">: [{</code></div>
<div class="line"><code class="plain">              </code><code class="string">&quot;key&quot;</code><code class="plain">: </code><code class="string">&quot;$.error|0&quot;</code><code class="plain">,</code></div>
<div class="line"><code class="plain">              </code><code class="string">&quot;exists&quot;</code><code class="plain">: </code><code class="keyword">true</code></div>
<div class="line"><code class="plain">            }],</code></div>
<div class="line"><code class="plain">            </code><code class="string">&quot;next&quot;</code><code class="plain">: </code><code class="string">&quot;response.error&quot;</code></div>
<div class="line"><code class="plain">          }, {</code></div>
<div class="line"><code class="plain">            </code><code class="string">&quot;next&quot;</code><code class="plain">: </code><code class="string">&quot;response.success&quot;</code></div>
<div class="line"><code class="plain">          }</code></div>
<div class="line"><code class="plain">        ]</code></div>
<div class="line"><code class="plain">      }</code></div>
<div class="line"><code class="plain">    },</code></div>
<div class="line"><code class="plain">    </code><code class="string">&quot;response.success&quot;</code><code class="plain">: {</code></div>
<div class="line"><code class="plain">      </code><code class="string">&quot;type&quot;</code><code class="plain">: </code><code class="string">&quot;parametermap&quot;</code><code class="plain">,</code></div>
<div class="line"><code class="plain">      </code><code class="string">&quot;config&quot;</code><code class="plain">: {},</code></div>
<div class="line"><code class="plain">      </code><code class="string">&quot;parameters&quot;</code><code class="plain">: [</code></div>
<div class="line"><code class="plain">        {</code></div>
<div class="line"><code class="plain">          </code><code class="string">&quot;name&quot;</code><code class="plain">: </code><code class="string">&quot;data&quot;</code><code class="plain">,</code></div>
<div class="line"><code class="plain">          </code><code class="string">&quot;value&quot;</code><code class="plain">: </code><code class="string">&quot;$.greeting|0&quot;</code></div>
<div class="line"><code class="plain">        }, {</code></div>
<div class="line"><code class="plain">          </code><code class="string">&quot;name&quot;</code><code class="plain">: </code><code class="string">&quot;status&quot;</code><code class="plain">,</code></div>
<div class="line"><code class="plain">          </code><code class="string">&quot;default&quot;</code><code class="plain">: 200</code></div>
<div class="line"><code class="plain">        }</code></div>
<div class="line"><code class="plain">      ],</code></div>
<div class="line"><code class="plain">      </code><code class="string">&quot;response&quot;</code><code class="plain">: {</code></div>
<div class="line"><code class="plain">        </code><code class="string">&quot;context&quot;</code><code class="plain">: {</code></div>
<div class="line"><code class="plain">          </code><code class="string">&quot;$.data|0&quot;</code><code class="plain">: </code><code class="string">&quot;response&quot;</code><code class="plain">,</code></div>
<div class="line"><code class="plain">          </code><code class="string">&quot;$.status|0&quot;</code><code class="plain">: </code><code class="string">&quot;status&quot;</code></div>
<div class="line"><code class="plain">        },</code></div>
<div class="line"><code class="plain">        </code><code class="string">&quot;routes&quot;</code><code class="plain">: [{</code></div>
<div class="line"><code class="plain">          </code><code class="string">&quot;next&quot;</code><code class="plain">: </code><code class="keyword">null</code></div>
<div class="line"><code class="plain">        }]</code></div>
<div class="line"><code class="plain">      }</code></div>
<div class="line"><code class="plain">    },</code></div>
<div class="line"><code class="plain">    </code><code class="string">&quot;response.error&quot;</code><code class="plain">: {</code></div>
<div class="line"><code class="plain">      </code><code class="string">&quot;type&quot;</code><code class="plain">: </code><code class="string">&quot;parametermap&quot;</code><code class="plain">,</code></div>
<div class="line"><code class="plain">      </code><code class="string">&quot;config&quot;</code><code class="plain">: {},</code></div>
<div class="line"><code class="plain">      </code><code class="string">&quot;parameters&quot;</code><code class="plain">: [</code></div>
<div class="line"><code class="plain">        {</code></div>
<div class="line"><code class="plain">          </code><code class="string">&quot;name&quot;</code><code class="plain">: </code><code class="string">&quot;status&quot;</code><code class="plain">,</code></div>
<div class="line"><code class="plain">          </code><code class="string">&quot;default&quot;</code><code class="plain">: 400</code></div>
<div class="line"><code class="plain">        }</code></div>
<div class="line"><code class="plain">      ],</code></div>
<div class="line"><code class="plain">      </code><code class="string">&quot;response&quot;</code><code class="plain">: {</code></div>
<div class="line"><code class="plain">        </code><code class="string">&quot;context&quot;</code><code class="plain">: {</code></div>
<div class="line"><code class="plain">          </code><code class="string">&quot;$.status|0&quot;</code><code class="plain">: </code><code class="string">&quot;status&quot;</code></div>
<div class="line"><code class="plain">        },</code></div>
<div class="line"><code class="plain">        </code><code class="string">&quot;routes&quot;</code><code class="plain">: [{</code></div>
<div class="line"><code class="plain">          </code><code class="string">&quot;next&quot;</code><code class="plain">: </code><code class="keyword">null</code></div>
<div class="line"><code class="plain">        }]</code></div>
<div class="line"><code class="plain">      }</code></div>
<div class="line"><code class="plain">    }</code></div>
<div class="line"><code class="plain">  }</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
    </div>
    <div class="section section-2 " id="src-49158401_FlowDefinition-Nodes">
        <h2 class="heading "><span>Nodes</span></h2>
    <p>The <a class="document-link " href="#!/guide/Flow_Definition-section-src-49158401_FlowDefinition-node">instances</a> of <a class="document-link " href="#!/guide/Flow_Definition-section-src-49158401_FlowDefinition-n">nodes</a> used by the flow.    </p>
    <p>This value is an object containing instances of nodes. Each key in this object is the unique ID of the node instance which can be referenced in other parts of the flow.    </p>
    <div class="section section-3 " id="src-49158401_FlowDefinition-Nodesexample">
        <h3 class="heading "><span>Nodes example</span></h3>
    <p>This example shows how nodes instances are defined inside the nodes object. <tt class=" ">node.1</tt> is the name of the first node instance, and <tt class=" ">node.2</tt> as the second.    </p>
    <div class="confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain"> </code><code class="string">&quot;node.1&quot;</code><code class="plain">: {</code></div>
<div class="line"><code class="plain">   </code><code class="string">&quot;type&quot;</code><code class="plain">: </code><code class="string">&quot;example&quot;</code><code class="plain">,</code></div>
<div class="line"><code class="plain">   </code><code class="string">&quot;config&quot;</code><code class="plain"> : {},  </code></div>
<div class="line"><code class="plain">   </code><code class="string">&quot;parameters&quot;</code><code class="plain">: [],</code></div>
<div class="line"><code class="plain">   </code><code class="string">&quot;response&quot;</code><code class="plain">: {</code></div>
<div class="line"><code class="plain">     </code><code class="string">&quot;context&quot;</code><code class="plain">: </code><code class="string">&quot;$|0&quot;</code><code class="plain">,</code></div>
<div class="line"><code class="plain">     </code><code class="string">&quot;routes&quot;</code><code class="plain">: [</code></div>
<div class="line"><code class="plain">       </code><code class="string">&quot;next&quot;</code><code class="plain">: </code><code class="string">&quot;node.2&quot;</code></div>
<div class="line"><code class="plain">     ]</code></div>
<div class="line"><code class="plain">   }</code></div>
<div class="line"><code class="plain"> }</code></div>
<div class="line"><code class="plain"> </code><code class="string">&quot;node.2&quot;</code><code class="plain"> : {...}</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
    </div>
    </div>
    <div class="section section-2 " id="src-49158401_FlowDefinition-Node">
        <h2 class="heading "><span>Node</span></h2>
    <p>The <a class="document-link " href="#!/guide/Flow_Definition-section-src-49158401_FlowDefinition-node">node</a> configuration.    </p>
    <div class="tablewrap">
        <table class="confluenceTable">
        <thead class=" ">    <tr>
            <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Property    </p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Description    </p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Required    </p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Type    </p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Example    </p>
            </td>
        </tr>
</thead><tfoot class=" "/><tbody class=" ">    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>type    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>The node type identifier.    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>Yes    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>string    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p><tt class=" ">code</tt>    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>config    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>Node-specific configuration.    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>Yes    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>object    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p><tt class=" ">{&quot;model&quot;: &quot;testuser&quot;}</tt>    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>parameters    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>The list of input parameters for this node.    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>Yes    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>array    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p><a class="document-link " href="#!/guide/Flow_Definition-section-src-49158401_FlowDefinition-Parameter">Parameter</a>    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>response    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>Detail for handling the response of the node.    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>Yes    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>object    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p><a class="document-link " href="#!/guide/Flow_Definition-section-src-49158401_FlowDefinition-Response">Response</a>    </p>
            </td>
        </tr>
</tbody>        </table>
            </div>
    <div class="section section-3 " id="src-49158401_FlowDefinition-Nodeexample">
        <h3 class="heading "><span>Node example</span></h3>
    <p>This shows the basic structure of a node as described above. It takes the value of the input key from the context, then saves it back to the context on the same key.    </p>
    <div class="confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">  </code><code class="string">&quot;type&quot;</code><code class="plain">: </code><code class="string">&quot;echo&quot;</code><code class="plain">,</code></div>
<div class="line"><code class="plain">  </code><code class="string">&quot;config&quot;</code><code class="plain">: {},</code></div>
<div class="line"><code class="plain">  </code><code class="string">&quot;parameters&quot;</code><code class="plain">: [{</code></div>
<div class="line"><code class="plain">    </code><code class="string">&quot;name&quot;</code><code class="plain">: </code><code class="string">&quot;value&quot;</code><code class="plain">,</code></div>
<div class="line"><code class="plain">    </code><code class="string">&quot;value&quot;</code><code class="plain">: </code><code class="string">&quot;$.input|0&quot;</code></div>
<div class="line"><code class="plain">  }],</code></div>
<div class="line"><code class="plain">  </code><code class="string">&quot;response&quot;</code><code class="plain">: {</code></div>
<div class="line"><code class="plain">    </code><code class="string">&quot;context&quot;</code><code class="plain">: {</code></div>
<div class="line"><code class="plain">      </code><code class="string">&quot;$|0&quot;</code><code class="plain">: </code><code class="string">&quot;value&quot;</code></div>
<div class="line"><code class="plain">    },</code></div>
<div class="line"><code class="plain">    </code><code class="string">&quot;routes&quot;</code><code class="plain">: [{</code></div>
<div class="line"><code class="plain">      </code><code class="string">&quot;next&quot;</code><code class="plain">: </code><code class="keyword">null</code></div>
<div class="line"><code class="plain">    }]</code></div>
<div class="line"><code class="plain">  }</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
    </div>
    </div>
    <div class="section section-2 " id="src-49158401_FlowDefinition-Parameter">
        <h2 class="heading "><span>Parameter</span></h2>
    <p>The details of an input parameter.    </p>
    <div class="tablewrap">
        <table class="confluenceTable">
        <thead class=" ">    <tr>
            <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Property    </p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Description    </p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Required    </p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Type    </p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Example    </p>
            </td>
        </tr>
</thead><tfoot class=" "/><tbody class=" ">    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>name    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>The node type identifier.    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>Yes    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>string    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p><tt class=" ">username</tt>    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>value    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>A JSONPath selector expression that gets evaluated against the context.    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>Only if default is not set    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>string    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p><tt class=" ">$.name|0</tt>    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>default    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>Fallback if value is not set or undefined.    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>Only if value is not set    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>any    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p><tt class=" ">fred</tt>    </p>
            </td>
        </tr>
</tbody>        </table>
            </div>
    <div class="section section-3 " id="src-49158401_FlowDefinition-Parameterexample">
        <h3 class="heading "><span>Parameter example</span></h3>
    <p>This example shows a parameter with the name &quot;value&quot; with its value taken from the Flow context key &quot;input&quot;.    </p>
    <div class="confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">  </code><code class="string">&quot;name&quot;</code><code class="plain">: </code><code class="string">&quot;value&quot;</code><code class="plain">,</code></div>
<div class="line"><code class="plain">  </code><code class="string">&quot;value&quot;</code><code class="plain">: </code><code class="string">&quot;$.input|0&quot;</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
    </div>
    </div>
    <div class="section section-2 " id="src-49158401_FlowDefinition-Response">
        <h2 class="heading "><span>Response</span></h2>
    <p>Detail for handling the response of the node.    </p>
    <div class="tablewrap">
        <table class="confluenceTable">
        <thead class=" ">    <tr>
            <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Property    </p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Description    </p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Required    </p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Type    </p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Example    </p>
            </td>
        </tr>
</thead><tfoot class=" "/><tbody class=" ">    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>context    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>Specifies the JSONPath to select from the response and the key to store it under in the context.    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>Yes    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>object    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p><a class="document-link " href="#!/guide/Flow_Definition-section-src-49158401_FlowDefinition-Context">Context</a>    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>routes    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>The list of routes. The first route with conditions that are met will be followed.    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>Yes    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>array    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p><a class="document-link " href="#!/guide/Flow_Definition-section-src-49158401_FlowDefinition-Route">Route</a>    </p>
            </td>
        </tr>
</tbody>        </table>
            </div>
    <div class="section section-3 " id="src-49158401_FlowDefinition-Responseexample">
        <h3 class="heading "><span>Response example</span></h3>
    <p>This shows the response of a node being written to the &#x201C;value&#x201D; key in the context. A condition is applied so that if the response is equal to 4, the next node to be executed will be the one defined by <tt class=" ">step.two-squared</tt>. Otherwise, <tt class=" ">step.not-two-squared</tt> will be executed instead.    </p>
    <div class="confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain"> </code><code class="string">&quot;context&quot;</code><code class="plain">: {</code></div>
<div class="line"><code class="plain">   </code><code class="string">&quot;$|0&quot;</code><code class="plain">: </code><code class="string">&quot;value&quot;</code></div>
<div class="line"><code class="plain"> },</code></div>
<div class="line"><code class="plain"> </code><code class="string">&quot;routes&quot;</code><code class="plain">: [</code></div>
<div class="line"><code class="plain">   {</code></div>
<div class="line"><code class="plain">     </code><code class="string">&quot;conditions&quot;</code><code class="plain">: [</code></div>
<div class="line"><code class="plain">       {</code></div>
<div class="line"><code class="plain">         </code><code class="string">&quot;key&quot;</code><code class="plain">: </code><code class="string">&quot;$|0&quot;</code><code class="plain">,</code></div>
<div class="line"><code class="plain">         </code><code class="string">&quot;eq&quot;</code><code class="plain">: 4</code></div>
<div class="line"><code class="plain">       }</code></div>
<div class="line"><code class="plain">     ],</code></div>
<div class="line"><code class="plain">     </code><code class="string">&quot;next&quot;</code><code class="plain">: </code><code class="string">&quot;step.two-squared&quot;</code></div>
<div class="line"><code class="plain">   },</code></div>
<div class="line"><code class="plain">   {</code></div>
<div class="line"><code class="plain">     </code><code class="string">&quot;next&quot;</code><code class="plain">: </code><code class="string">&quot;step.not-two-squared&quot;</code></div>
<div class="line"><code class="plain">   }</code></div>
<div class="line"><code class="plain"> ]</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
    </div>
    </div>
    <div class="section section-2 " id="src-49158401_FlowDefinition-Context">
        <h2 class="heading "><span>Context</span></h2>
    <p>Specifies the <a class="document-link " href="#!/guide/JSONPath">JSONPath</a> to select from the response and the key to store it under in the context.    </p>
    <p>This property is an object which has key/value pairs, where the key a JSONPath selector on the node&#x2019;s response, and the value is the key where the selected value will be stored in the flow context.    </p>
    <p>Context is also valid as an empty object if no values are to be set.    </p>
    <div class="section section-3 " id="src-49158401_FlowDefinition-Contextexample">
        <h3 class="heading "><span>Context example</span></h3>
    <p>This example shows the potential response of a node, and the context property set on the instance of that node. The first property of context takes the whole response and sets it in the Flow context as &quot;feedback&quot;. The second one takes the user from the response and sets in on the Flow response as &quot;customer&quot;.    </p>
    <p>Node response:    </p>
    <div class="confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain"> </code><code class="string">&quot;user&quot;</code><code class="plain">: </code><code class="string">&quot;bob&quot;</code><code class="plain">,</code></div>
<div class="line"><code class="plain"> </code><code class="string">&quot;message&quot;</code><code class="plain">: </code><code class="string">&quot;great!&quot;</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
    <p>Context value:    </p>
    <div class="confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain"> </code><code class="string">&quot;$|0&quot;</code><code class="plain">: </code><code class="string">&quot;feedback&quot;</code><code class="plain">,</code></div>
<div class="line"><code class="plain"> </code><code class="string">&quot;$.user|0&quot;</code><code class="plain">: </code><code class="string">&quot;customer&quot;</code><code class="plain">,</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
    <p>Resulting flow context as seen by the next node(s):    </p>
    <div class="confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain"> ...</code></div>
<div class="line"><code class="plain"> </code><code class="string">&quot;feedback&quot;</code><code class="plain">: { </code><code class="string">&quot;user&quot;</code><code class="plain">: </code><code class="string">&quot;bob&quot;</code><code class="plain">. </code><code class="string">&quot;message&quot;</code><code class="plain">: </code><code class="string">&quot;great!&quot;</code><code class="plain"> },</code></div>
<div class="line"><code class="plain"> </code><code class="string">&quot;customer&quot;</code><code class="plain">: </code><code class="string">&quot;bob&quot;</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
    </div>
    </div>
    <div class="section section-2 " id="src-49158401_FlowDefinition-Route">
        <h2 class="heading "><span>Route</span></h2>
    <p>A route selector which checks if optional conditions are met, and routes to the next node(s) if they match.    </p>
    <div class="tablewrap">
        <table class="confluenceTable">
        <thead class=" ">    <tr>
            <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Property    </p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Description    </p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Required    </p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Type    </p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Example    </p>
            </td>
        </tr>
</thead><tfoot class=" "/><tbody class=" ">    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>conditions    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>A set of conditions to apply to a route.  All conditions must be true for the route to be considered a match.    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>No    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>array    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p><a class="document-link " href="#!/guide/Flow_Definition-section-src-49158401_FlowDefinition-Condition">Condition</a>    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>next    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>The ID, or array of IDs of the node(s) to be executed next. Can be null for terminal nodes.    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>Yes    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>array, string, null    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>[<tt class=" ">node.1</tt>, <tt class=" ">node.2</tt>]    </p>
            </td>
        </tr>
</tbody>        </table>
            </div>
    <div class="section section-3 " id="src-49158401_FlowDefinition-Routeexample">
        <h3 class="heading "><span>Route example</span></h3>
    <p>This example is an unconditional route showing the end of a flow path, where there is no next node.    </p>
    <div class="confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain"> </code><code class="string">&quot;next&quot;</code><code class="plain">: </code><code class="keyword">null</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
    <p>This example shows a conditional route where the Flow will route to <tt class=" ">node.error</tt> if there is no response from the node.    </p>
    <div class="confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain"> </code><code class="string">&quot;conditions&quot;</code><code class="plain">: [{</code></div>
<div class="line"><code class="plain">   </code><code class="string">&quot;key&quot;</code><code class="plain">: </code><code class="string">&quot;$|0&quot;</code><code class="plain">,</code></div>
<div class="line"><code class="plain">   </code><code class="string">&quot;exists&quot;</code><code class="plain">: </code><code class="keyword">false</code></div>
<div class="line"><code class="plain"> }],</code></div>
<div class="line"><code class="plain"> </code><code class="string">&quot;next&quot;</code><code class="plain">: </code><code class="string">&quot;node.error&quot;</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
    <p>This example shows a more complex route which checks that the &#x201C;count&#x201D; property from the node response is greater than 5 or less than 10. If this is met, then the Flow will fork and start execution of <tt class=" ">node.fork.1</tt> and <tt class=" ">node.fork.2</tt>.    </p>
    <div class="confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain"> </code><code class="string">&quot;conditions&quot;</code><code class="plain">: [{</code></div>
<div class="line"><code class="plain">   </code><code class="string">&quot;key&quot;</code><code class="plain">: </code><code class="string">&quot;$.count|0&quot;</code><code class="plain">,</code></div>
<div class="line"><code class="plain">   </code><code class="string">&quot;gt&quot;</code><code class="plain">: 5</code></div>
<div class="line"><code class="plain"> },</code></div>
<div class="line"><code class="plain"> {</code></div>
<div class="line"><code class="plain">   </code><code class="string">&quot;key&quot;</code><code class="plain">: </code><code class="string">&quot;$.count|0&quot;</code></div>
<div class="line"><code class="plain">   </code><code class="string">&quot;lt&quot;</code><code class="plain">: 10</code></div>
<div class="line"><code class="plain"> }],</code></div>
<div class="line"><code class="plain"> </code><code class="string">&quot;next&quot;</code><code class="plain">: [</code><code class="string">&quot;node.fork.1&quot;</code><code class="plain">, </code><code class="string">&quot;node.fork.2&quot;</code><code class="plain">]</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
    </div>
    </div>
    <div class="section section-2 " id="src-49158401_FlowDefinition-Condition">
        <h2 class="heading "><span>Condition</span></h2>
    <p>A test to apply to an evaluated <a class="document-link " href="#!/guide/JSONPath">JSONPath</a> from the node response.    </p>
    <div class="tablewrap">
        <table class="confluenceTable">
        <thead class=" ">    <tr>
            <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Property    </p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Description    </p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Required    </p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Type    </p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Example    </p>
            </td>
        </tr>
</thead><tfoot class=" "/><tbody class=" ">    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>key    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>JSONPath selector from the node response to be evaluated and tested against.    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>Yes    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>string    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p><tt class=" ">$.name|0</tt>    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>exists    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>Test if the key matches.    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>Only one    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>boolean    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p><tt class=" ">true</tt>    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>eq    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>Test if the key matches something which equals this value.    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>Only one    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>any    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p><tt class=" ">bob</tt>    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>ne    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>Test if the key matches something which does not equal this value.    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>Only one    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>any    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p><tt class=" ">{ name: &quot;fred&quot; }</tt>    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>lt    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>Test if the key matches something which is less than this value.    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>Only one    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>any    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p><tt class=" ">5</tt>    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>le    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>Test if the key matches something which is less than or equal to this value.    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>Only one    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>any    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p><tt class=" ">5</tt>    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>gt    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>Test if the key matches something which is greater than this value.    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>Only one    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>any    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p><tt class=" ">5</tt>    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>ge    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>Test if the key matches something which is greater than or equal this value,    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>Only one    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>any    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p><tt class=" ">5</tt>    </p>
            </td>
        </tr>
</tbody>        </table>
            </div>
    <div class="section section-3 " id="src-49158401_FlowDefinition-Conditionexample">
        <h3 class="heading "><span>Condition example</span></h3>
    <p>This example shows a condition where the &#x201C;name&#x201D; property on the response must be less than 5.    </p>
    <div class="confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain"> </code><code class="string">&quot;key&quot;</code><code class="plain">: </code><code class="string">&quot;$.name|0&quot;</code><code class="plain">,</code></div>
<div class="line"><code class="plain"> </code><code class="string">&quot;lt&quot;</code><code class="plain">: 5</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
    </div>
    </div>
    <div class="section section-2 " id="src-49158401_FlowDefinition-Returns">
        <h2 class="heading "><span>Returns</span></h2>
    <p>A <a class="document-link " href="#!/guide/JSONPath">JSONPath</a> evaluated against the final context and returned as the result of the flow.    </p>
    <p>This value directly corresponds to the data which is returned when hitting an endpoint. In API Builder two returns definitions are supported:    </p>
    <p>Here the value resolved by the JSONPath will be returned by the flow. The endpoint which consumes this flow will return the value as the response with a status code of 200.    </p>
    <div class="tablewrap">
        <table class="confluenceTable">
        <thead class=" ">    <tr>
            <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Type    </p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Description    </p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Example    </p>
            </td>
        </tr>
</thead><tfoot class=" "/><tbody class=" ">    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>string    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>JSONPath location of the data to be returned.    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p><tt class=" ">$.foo|0</tt>    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>null    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>No response    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p><tt class=" ">null</tt>    </p>
            </td>
        </tr>
</tbody>        </table>
            </div>
    <p>This format allows custom status codes and headers to be set by the flow. Each value is resolved from a JSONPath pointing to data within the flow context.    </p>
    <div class="tablewrap">
        <table class="confluenceTable">
        <thead class=" ">    <tr>
            <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Property    </p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Description    </p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Required    </p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Type    </p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Example    </p>
            </td>
        </tr>
</thead><tfoot class=" "/><tbody class=" ">    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>status    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>JSONPath location of the status code to be returned.    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>No    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>string    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p><tt class=" ">$.status|0</tt>    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>data    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>JSONPath location of the data result.    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>No    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>string    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p><tt class=" ">$.data|0</tt>    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>headers    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>JSONPath location of an object containing keys/values to be set in the response headers.    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>No    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>string    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p><tt class=" ">$.headers|0</tt>    </p>
            </td>
        </tr>
</tbody>        </table>
            </div>
    <p>Since none of these properties are required, default values will be used in their place if the properties are either not specified, or the JSONPath query does not match a value.    </p>
    <div class="tablewrap">
        <table class="confluenceTable">
        <thead class=" ">    <tr>
            <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Property    </p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
        <p>Default    </p>
            </td>
        </tr>
</thead><tfoot class=" "/><tbody class=" ">    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>status    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>200    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>data    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>undefined    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>headers    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>none set    </p>
            </td>
        </tr>
</tbody>        </table>
            </div>
    <div class="section section-3 " id="src-49158401_FlowDefinition-Returnsexample">
        <h3 class="heading "><span>Returns example</span></h3>
    <p>JSONPath selector taking the value of the <tt class=" ">result</tt> property from the Flow context. This will return the contents of that property from the flow and corresponding endpoint to which it is attached.    </p>
    <div class="confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="string">&quot;$.result&quot;</code><code class="plain"> </code></div>
</div>
    </div>
    <p>JSONPath selectors taking the <tt class=" ">HTTPStatus</tt> and <tt class=" ">FlowData</tt> values from the Flow context and setting them on an object with keys <tt class=" ">status</tt> and <tt class=" ">data</tt> will be returned.    </p>
    <div class="confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain"> </code><code class="string">&quot;status&quot;</code><code class="plain">: </code><code class="string">&quot;$.HTTPStatus|0&quot;</code><code class="plain">,</code></div>
<div class="line"><code class="plain"> </code><code class="string">&quot;data&quot;</code><code class="plain">: </code><code class="string">&quot;$.FlowData|0&quot;</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
    </div>
    </div>
        </div><a id="editButton" href="https://wiki.appcelerator.org/pages/editpage.action?pageId=49158401"><span>Edit</span></a>
    
        
    </div>
</body>
</html>
