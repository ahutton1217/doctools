Ext.data.JsonP['Titanium_SDK_and_Mobile_Backend_Services']({"guide":"<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n        \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\n<head>\n    <title>Titanium SDK and Mobile Backend Services</title>\n\n    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\">\n    <meta content=\"Scroll EclipseHelp Exporter\" name=\"generator\">\n\n    <link type=\"text/css\" rel=\"stylesheet\">\n    <link type=\"text/css\" rel=\"stylesheet\">\n    <link type=\"text/css\" rel=\"stylesheet\" media=\"print\">\n</link></link></link></meta></meta></head>\n<body>\n    <div class=\"container\">\n\t\t<div id=\"banner\" class=\"confbox admonition admonition-note aui-message warning shadowed information-macro\">\n\t\t\t<p>You can now find Appcelerator documentation at <a href=\"https://docs.axway.com/\" target=\"_blank\">https://docs.axway.com/</a>. This site will be taken down in the near future.</p></div>\n        <div class=\"header\"/>\n\n        <div id=\"src-49153760\" class=\"content\">\n                        <h1>Titanium SDK and Mobile Backend Services</h1>\n    <p>    </p>\n<ul class=\"toc-indentation \"><li class=\" \">    <p><a class=\"document-link \" href=\"#!/guide/Titanium_SDK_and_Mobile_Backend_Services-section-src-49153760_TitaniumSDKandMobileBackendServices-AddingMobileBackendServicestoyourTitaniumproject\">Adding Mobile Backend Services to your Titanium project</a>    </p>\n<ul class=\"toc-indentation \"><li class=\" \">    <p><a class=\"document-link \" href=\"#!/guide/Titanium_SDK_and_Mobile_Backend_Services-section-src-49153760_TitaniumSDKandMobileBackendServices-AddingMobileBackendServicestoanewTitaniumapplication\">Adding Mobile Backend Services to a new Titanium application</a>    </p>\n</li><li class=\" \">    <p><a class=\"document-link \" href=\"#!/guide/Titanium_SDK_and_Mobile_Backend_Services-section-src-49153760_TitaniumSDKandMobileBackendServices-AddingMobileBackendServicestoanexistingTitaniumapplication\">Adding Mobile Backend Services to an existing Titanium application</a>    </p>\n</li><li class=\" \">    <p><a class=\"document-link \" href=\"#!/guide/Titanium_SDK_and_Mobile_Backend_Services-section-src-49153760_TitaniumSDKandMobileBackendServices-AddinganexistingMobileBackendServicesapplicationtoaTitaniumproject\">Adding an existing Mobile Backend Services application to a Titanium project</a>    </p>\n</li><li class=\" \">    <p><a class=\"document-link \" href=\"#!/guide/Titanium_SDK_and_Mobile_Backend_Services-section-src-49153760_TitaniumSDKandMobileBackendServices-Virtualprivatecloudconfiguration\">Virtual private cloud configuration</a>    </p>\n</li></ul></li><li class=\" \">    <p><a class=\"document-link \" href=\"#!/guide/Titanium_SDK_and_Mobile_Backend_Services-section-src-49153760_TitaniumSDKandMobileBackendServices-Importingthemodule\">Importing the module</a>    </p>\n</li><li class=\" \">    <p><a class=\"document-link \" href=\"#!/guide/Titanium_SDK_and_Mobile_Backend_Services-section-src-49153760_TitaniumSDKandMobileBackendServices-Authenticatingyourapplication\">Authenticating your application</a>    </p>\n</li><li class=\" \">    <p><a class=\"document-link \" href=\"#!/guide/Titanium_SDK_and_Mobile_Backend_Services-section-src-49153760_TitaniumSDKandMobileBackendServices-Pushnotifications\">Push notifications</a>    </p>\n</li><li class=\" \">    <p><a class=\"document-link \" href=\"#!/guide/Titanium_SDK_and_Mobile_Backend_Services-section-src-49153760_TitaniumSDKandMobileBackendServices-UsingtheMobileBackendServicesAPIs\">Using the Mobile Backend Services APIs</a>    </p>\n</li><li class=\" \">    <p><a class=\"document-link \" href=\"#!/guide/Titanium_SDK_and_Mobile_Backend_Services-section-src-49153760_TitaniumSDKandMobileBackendServices-Examples\">Examples</a>    </p>\n</li><li class=\" \">    <p><a class=\"document-link \" href=\"#!/guide/Titanium_SDK_and_Mobile_Backend_Services-section-src-49153760_TitaniumSDKandMobileBackendServices-ImportingandrunningtheTi.Cloudsampleapplication\">Importing and running the Ti.Cloud sample application</a>    </p>\n</li><li class=\" \">    <p><a class=\"document-link \" href=\"#!/guide/Titanium_SDK_and_Mobile_Backend_Services-section-src-49153760_TitaniumSDKandMobileBackendServices-References\">References</a>    </p>\n</li></ul>    <p>The Mobile Backend Services (MBS) APIs are supported in Titanium using the <tt class=\" \">ti.cloud</tt> module, an optional module which is packaged with the Titanium SDK.    </p>\n    <p>When new APIs are added to MBS, they may not be immediately available in the Cloud module. See the <a class=\"external-link external-link\" href=\"#!/api/Modules.Cloud\">module API reference</a> for a list of supported objects and methods.    </p>\n    <div class=\"section section-2 \" id=\"src-49153760_TitaniumSDKandMobileBackendServices-AddingMobileBackendServicestoyourTitaniumproject\">\n        <h2 class=\"heading \"><span>Adding Mobile Backend Services to your Titanium project</span></h2>\n    <p>This section describes how to add MBS to a Titanium application. If you don&apos;t have an existing MBS datasource, Studio can create one for you.    </p>\n    <p>If you are using the CLI, the CLI automatically creates an MBS datasource for you.    </p>\n    <div class=\"section section-3 \" id=\"src-49153760_TitaniumSDKandMobileBackendServices-AddingMobileBackendServicestoanewTitaniumapplication\">\n        <h3 class=\"heading \"><span>Adding Mobile Backend Services to a new Titanium application</span></h3>\n    <p>If you are using Studio to create a new Titanium application, you can create a new MBS datasource at the same time:    </p>\n<ol class=\" \"><li class=\" \">    <p>Click <strong class=\" \">File</strong> &gt; <strong class=\" \">New</strong> &gt; <strong class=\" \">Mobile Project</strong> to start the new project wizard.    </p>\n</li><li class=\" \">    <p>Choose a template and click <strong class=\" \">Next</strong>.    </p>\n</li><li class=\" \">    <p>On the next screen, make sure <strong class=\" \">Enable AMPLIFY Appcelerator Services</strong> is checked.    </p>\n</li><li class=\" \">    <p>Enter the project name and ID and click <strong class=\" \">Finish</strong>.    </p>\n</li></ol>    <p>    <img src=\"images/download/attachments/49153760/studio-enable-new.png\" alt=\"images/download/attachments/49153760/studio-enable-new.png\" class=\"confluence-embedded-image\" width=\"500\">\n        </img></p>\n    <p>This creates a new Titanium application and a new MBS datasource, and configures the Titanium project to access MBS.    </p>\n    </div>\n    <div class=\"section section-3 \" id=\"src-49153760_TitaniumSDKandMobileBackendServices-AddingMobileBackendServicestoanexistingTitaniumapplication\">\n        <h3 class=\"heading \"><span>Adding Mobile Backend Services to an existing Titanium application</span></h3>\n    <p>If you have an existing Titanium project in Studio and want to create a new MBS datasource for it:    </p>\n<ol class=\" \"><li class=\" \">    <p>Open the project&apos;s <tt class=\" \">tiapp.xml</tt> and switch to the <strong class=\" \">Overview</strong> tab.    </p>\n</li><li class=\" \">    <p>Click to <strong class=\" \">Enable Services</strong>.    </p>\n</li></ol>    <p>    <img src=\"images/download/attachments/49153760/studio-enable-existing.png\" alt=\"images/download/attachments/49153760/studio-enable-existing.png\" class=\"confluence-embedded-image\">\n        </img></p>\n    </div>\n    <div class=\"section section-3 \" id=\"src-49153760_TitaniumSDKandMobileBackendServices-AddinganexistingMobileBackendServicesapplicationtoaTitaniumproject\">\n        <h3 class=\"heading \"><span>Adding an existing Mobile Backend Services application to a Titanium project</span></h3>\n    <p>If you have already created an MBS datasource, you can add it to a Titanium project by editing the <tt class=\" \">tiapp.xml</tt> file. You&apos;ll need the application key generated when you created the MBS datasource.    </p>\n<ol class=\" \"><li class=\" \">    <p>Open the project&apos;s <tt class=\" \">tiapp.xml</tt> and switch to the <strong class=\" \">tiapp.xml</strong> (source view) tab.    </p>\n</li><li class=\" \">    <p>Add the following entries to the file:    </p>\n    <div class=\"tablewrap\">\n        <table>\n        <thead class=\" \"/><tfoot class=\" \"/><tbody class=\" \">    <tr>\n            <td rowspan=\"1\" colspan=\"1\">\n        <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\">\n                <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\">\n<div class=\"line\"><code class=\"plain\">&lt;</code><code class=\"keyword\">property</code><code class=\"plain\"> </code><code class=\"color1\">name</code><code class=\"plain\">=</code><code class=\"string\">&quot;acs-api-key-development&quot;</code><code class=\"plain\"> </code><code class=\"color1\">type</code><code class=\"plain\">=</code><code class=\"string\">&quot;string&quot;</code><code class=\"plain\">&gt;YOUR DEVELOPMENT APP KEY HERE&lt;/</code><code class=\"keyword\">property</code><code class=\"plain\">&gt;</code></div>\n<div class=\"line\"><code class=\"plain\">&lt;</code><code class=\"keyword\">property</code><code class=\"plain\"> </code><code class=\"color1\">name</code><code class=\"plain\">=</code><code class=\"string\">&quot;acs-api-key-production&quot;</code><code class=\"plain\"> </code><code class=\"color1\">type</code><code class=\"plain\">=</code><code class=\"string\">&quot;string&quot;</code><code class=\"plain\">&gt;YOUR PRODUCTION APP KEY HERE&lt;/</code><code class=\"keyword\">property</code><code class=\"plain\">&gt;</code></div>\n</div>\n    </div>\n            </td>\n        </tr>\n</tbody>        </table>\n            </div>\n</li><li class=\" \">    <p>Find the <tt class=\" \">&lt;modules&gt;</tt> element in the file, and add the following:    </p>\n    <div class=\"tablewrap\">\n        <table>\n        <thead class=\" \"/><tfoot class=\" \"/><tbody class=\" \">    <tr>\n            <td rowspan=\"1\" colspan=\"1\">\n        <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\">\n                <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\">\n<div class=\"line\"><code class=\"plain\">&lt;</code><code class=\"keyword\">module</code><code class=\"plain\"> </code><code class=\"color1\">platform</code><code class=\"plain\">=</code><code class=\"string\">&quot;commonjs&quot;</code><code class=\"plain\">&gt;ti.cloud&lt;/</code><code class=\"keyword\">module</code><code class=\"plain\">&gt;</code></div>\n</div>\n    </div>\n            </td>\n        </tr>\n</tbody>        </table>\n            </div>\n    <p>If there is no <tt class=\" \">&lt;modules&gt;</tt> element, add the following inside the <tt class=\" \">&lt;ti:app&gt;</tt> element:    </p>\n    <div class=\"tablewrap\">\n        <table>\n        <thead class=\" \"/><tfoot class=\" \"/><tbody class=\" \">    <tr>\n            <td rowspan=\"1\" colspan=\"1\">\n        <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\">\n                <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\">\n<div class=\"line\"><code class=\"plain\">&lt;</code><code class=\"keyword\">modules</code><code class=\"plain\">&gt;</code></div>\n<div class=\"line\"><code class=\"plain\">    &lt;</code><code class=\"keyword\">module</code><code class=\"plain\"> </code><code class=\"color1\">platform</code><code class=\"plain\">=</code><code class=\"string\">&quot;commonjs&quot;</code><code class=\"plain\">&gt;ti.cloud&lt;/</code><code class=\"keyword\">module</code><code class=\"plain\">&gt;</code></div>\n<div class=\"line\"><code class=\"plain\">&lt;/</code><code class=\"keyword\">modules</code><code class=\"plain\">&gt;</code></div>\n</div>\n    </div>\n            </td>\n        </tr>\n</tbody>        </table>\n            </div>\n    <p>(This element is usually placed just above the <tt class=\" \">&lt;deployment-targets&gt;</tt> element.)    </p>\n</li></ol>    </div>\n    <div class=\"section section-3 \" id=\"src-49153760_TitaniumSDKandMobileBackendServices-Virtualprivatecloudconfiguration\">\n        <h3 class=\"heading \"><span>Virtual private cloud configuration</span></h3>\n    <p>If you are using a virtual private cloud (VPC), you need to configure your Mobile Backend Services dispatcher URL in order to send push notifications with GCM. In the <tt class=\" \">tiapp.xml</tt> file, add the <tt class=\" \">acs-push-api-url</tt> application property and set the node text to the push dispatcher URL provided to you. The URL may be the same as your custom MBS endpoint and have deployment-specific settings, that is, two URLs--one for production and another for the development environment.    </p>\n    <div class=\"tablewrap\">\n        <table>\n        <thead class=\" \"/><tfoot class=\" \"/><tbody class=\" \">    <tr>\n            <td rowspan=\"1\" colspan=\"1\">\n        <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\">\n                <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\">\n<div class=\"line\"><code class=\"plain\">&lt;</code><code class=\"keyword\">ti</code><code class=\"plain\">:app&gt;</code></div>\n<div class=\"line\"><code class=\"plain\">    &lt;</code><code class=\"keyword\">property</code><code class=\"plain\"> </code><code class=\"color1\">name</code><code class=\"plain\">=</code><code class=\"string\">&quot;acs-push-api-url-production&quot;</code><code class=\"plain\">&gt;YOUR PRODUCTION PUSH DISPATCHER URL HERE&lt;/</code><code class=\"keyword\">property</code><code class=\"plain\">&gt;</code></div>\n<div class=\"line\"><code class=\"plain\">    &lt;</code><code class=\"keyword\">property</code><code class=\"plain\"> </code><code class=\"color1\">name</code><code class=\"plain\">=</code><code class=\"string\">&quot;acs-push-api-url-development&quot;</code><code class=\"plain\">&gt;YOUR DEVELOPMENT PUSH DISPATCHER URL HERE&lt;/</code><code class=\"keyword\">property</code><code class=\"plain\">&gt;</code></div>\n<div class=\"line\"><code class=\"plain\">&lt;/</code><code class=\"keyword\">ti</code><code class=\"plain\">:app&gt;</code></div>\n</div>\n    </div>\n            </td>\n        </tr>\n</tbody>        </table>\n            </div>\n    </div>\n    </div>\n    <div class=\"section section-2 \" id=\"src-49153760_TitaniumSDKandMobileBackendServices-Importingthemodule\">\n        <h2 class=\"heading \"><span>Importing the module</span></h2>\n    <p>Mobile Backend Services support is baked into Titanium. However, you must include the cloud services module into your project to use MBS functionality. In your <tt class=\" \">app.js</tt> (or another suitable file), include the <tt class=\" \">require()</tt> statement as shown here:    </p>\n    <div class=\"tablewrap\">\n        <table>\n        <thead class=\" \"/><tfoot class=\" \"/><tbody class=\" \">    <tr>\n            <td rowspan=\"1\" colspan=\"1\">\n        <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\">\n                <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\">\n<div class=\"line\"><code class=\"plain\">var Cloud = require(&apos;ti.cloud&apos;);</code></div>\n<div class=\"line\"><code class=\"plain\">Cloud.debug = true;  // optional; if you add this line, set it to false for production</code></div>\n</div>\n    </div>\n            </td>\n        </tr>\n</tbody>        </table>\n            </div>\n    </div>\n    <div class=\"section section-2 \" id=\"src-49153760_TitaniumSDKandMobileBackendServices-Authenticatingyourapplication\">\n        <h2 class=\"heading \"><span>Authenticating your application</span></h2>\n    <p>To keep your MBS data secure from unauthorized access, your application must prove that it is allowed to communicate with MBS in each HTTP request. The Titanium Cloud module passes the MBS application key, configured in the project&apos;s <tt class=\" \">tiapp.xml</tt> file, with each request over SSL.    </p>\n    <p>For more information, see <a class=\"document-link \" href=\"#!/guide/Authentication\">Authentication</a>.    </p>\n    </div>\n    <div class=\"section section-2 \" id=\"src-49153760_TitaniumSDKandMobileBackendServices-Pushnotifications\">\n        <h2 class=\"heading \"><span>Push notifications</span></h2>\n    <p>To setup your Titanium application to use push notifications, see the <a class=\"document-link \" href=\"#!/guide/Push_Notifications\">Push Notification guide</a>.    </p>\n    </div>\n    <div class=\"section section-2 \" id=\"src-49153760_TitaniumSDKandMobileBackendServices-UsingtheMobileBackendServicesAPIs\">\n        <h2 class=\"heading \"><span>Using the Mobile Backend Services APIs</span></h2>\n    <p>The <tt class=\" \">ti.cloud</tt> module APIs follow the same basic pattern. For each MBS method supported by the API, the module supplies a JavaScript method that takes two arguments: a <i class=\" \">parameters</i> dictionary, which holds the parameters passed to the method, and a callback to be invoked when the method completes.    </p>\n    <p>The response callback receives a single object, which is a slightly modified version of the REST response object. The REST response contains two objects:    </p>\n<ul class=\" \"><li class=\" \">    <p><tt class=\" \">meta : Object - </tt>Response metadata, such as success or failure, error messages, pagination information.    </p>\n</li><li class=\" \">    <p><tt class=\" \">response : Object -</tt> Response data specific to the call. For example, if you search for places, the response object contains an array of places.    </p>\n</li></ul>    <p>The module&apos;s response object includes any properties from <tt class=\" \">response</tt> at the top level of the object. For example, if the REST response includes <tt class=\" \">response.places</tt>, this is included as <tt class=\" \">places</tt>.    </p>\n    <p>The module&apos;s response object also includes the following fields:    </p>\n<ul class=\" \"><li class=\" \">    <p><tt class=\" \">meta : Object -</tt> Metadata from the REST response.    </p>\n</li><li class=\" \">    <p><tt class=\" \">success : Boolean -</tt> True if the request succeeded (that is, <tt class=\" \">meta.status == &quot;ok&quot;</tt>).    </p>\n</li><li class=\" \">    <p><tt class=\" \">error : Boolean -</tt> True if the request failed (<tt class=\" \">meta.status != &quot;ok&quot;</tt>).    </p>\n</li><li class=\" \">    <p><tt class=\" \">message : String - </tt>Error message, if available.    </p>\n</li><li class=\" \">    <p><tt class=\" \">code : Number -</tt> Error code, if available.    </p>\n</li></ul>    </div>\n    <div class=\"section section-2 \" id=\"src-49153760_TitaniumSDKandMobileBackendServices-Examples\">\n        <h2 class=\"heading \"><span>Examples</span></h2>\n    <p>With over 25 APIs available for you to use, we obviously can&apos;t cover them all here. But let&apos;s take a look at a couple of examples.    </p>\n    <p>Create a user:    </p>\n    <div class=\"tablewrap\">\n        <table>\n        <thead class=\" \"/><tfoot class=\" \"/><tbody class=\" \">    <tr>\n            <td rowspan=\"1\" colspan=\"1\">\n        <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\">\n                <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\">\n<div class=\"line\"><code class=\"comments\">// example assumes you have a set of text fields named username, password, etc.</code></div>\n<div class=\"line\"><code class=\"plain\">Cloud.Users.create({</code></div>\n<div class=\"line\"><code class=\"plain\">    username: username.value,</code></div>\n<div class=\"line\"><code class=\"plain\">    password: password.value,</code></div>\n<div class=\"line\"><code class=\"plain\">    password_confirmation: confirmPassword.value,</code></div>\n<div class=\"line\"><code class=\"plain\">    first_name: firstName.value,</code></div>\n<div class=\"line\"><code class=\"plain\">    last_name: lastName.value</code></div>\n<div class=\"line\"><code class=\"plain\">}, </code><code class=\"keyword\">function</code><code class=\"plain\"> (e) {</code></div>\n<div class=\"line\"><code class=\"plain\">    </code><code class=\"keyword\">if</code><code class=\"plain\"> (e.success) {</code></div>\n<div class=\"line\"><code class=\"plain\">        </code><code class=\"comments\">// user created successfully</code></div>\n<div class=\"line\"><code class=\"plain\">    } </code><code class=\"keyword\">else</code><code class=\"plain\"> {</code></div>\n<div class=\"line\"><code class=\"plain\">        </code><code class=\"comments\">// oops, something went wrong</code></div>\n<div class=\"line\"><code class=\"plain\">    }</code></div>\n<div class=\"line\"><code class=\"plain\">});</code></div>\n</div>\n    </div>\n            </td>\n        </tr>\n</tbody>        </table>\n            </div>\n    <p>Post a photo to a photo collection. To post a photo to a collection, you need to create the collection first using <a class=\"external-link external-link\" href=\"/arrowdb/latest/#!/api/PhotoCollections-method-create\">PhotoCollections</a>.    </p>\n    <div class=\"tablewrap\">\n        <table>\n        <thead class=\" \"/><tfoot class=\" \"/><tbody class=\" \">    <tr>\n            <td rowspan=\"1\" colspan=\"1\">\n        <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\">\n                <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\">\n<div class=\"line\"><code class=\"comments\">// assumes you&apos;ve obtained a photo from the camera or gallery, with blob data stored in an object named photo,</code></div>\n<div class=\"line\"><code class=\"comments\">// and that collectionID contains the ID of an existing photo collection.</code></div>\n<div class=\"line\"><code class=\"plain\">Cloud.Photos.create({</code></div>\n<div class=\"line\"><code class=\"plain\">    photo: photo,</code></div>\n<div class=\"line\"><code class=\"plain\">    collection_id: collectionID,</code></div>\n<div class=\"line\"><code class=\"plain\">    </code><code class=\"string\">&apos;photo_sync_sizes[]&apos;</code><code class=\"plain\">: </code><code class=\"string\">&apos;small_240&apos;</code></div>\n<div class=\"line\"><code class=\"plain\">}, </code><code class=\"keyword\">function</code><code class=\"plain\"> (e) {</code></div>\n<div class=\"line\"><code class=\"plain\">    </code><code class=\"keyword\">if</code><code class=\"plain\"> (e.success) {</code></div>\n<div class=\"line\"><code class=\"plain\">        </code><code class=\"comments\">// null out our photo objects to clean up memory</code></div>\n<div class=\"line\"><code class=\"plain\">        photo = </code><code class=\"keyword\">null</code><code class=\"plain\">;</code></div>\n<div class=\"line\"><code class=\"plain\">        collectionID = </code><code class=\"keyword\">null</code><code class=\"plain\">;</code></div>\n<div class=\"line\"><code class=\"plain\">    } </code><code class=\"keyword\">else</code><code class=\"plain\"> {</code></div>\n<div class=\"line\"><code class=\"plain\">        </code><code class=\"comments\">// oops, something went wrong</code></div>\n<div class=\"line\"><code class=\"plain\">    }</code></div>\n<div class=\"line\"><code class=\"plain\">});</code></div>\n</div>\n    </div>\n            </td>\n        </tr>\n</tbody>        </table>\n            </div>\n    <p>Linking a Facebook login with your app. You must already be logged in using the Titanium <a class=\"external-link external-link\" href=\"http://docs.appcelerator.com//platform/latest/#!/api/Modules.Facebook\" target=\"_blank\">Facebook module</a> before calling the <tt class=\" \">externalAccountLogin</tt> method.    </p>\n    <div class=\"tablewrap\">\n        <table>\n        <thead class=\" \"/><tfoot class=\" \"/><tbody class=\" \">    <tr>\n            <td rowspan=\"1\" colspan=\"1\">\n        <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\">\n                <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\">\n<div class=\"line\"><code class=\"comments\">// Not shown is the code to implement the Facebook module in your app</code></div>\n<div class=\"line\"><code class=\"keyword\">var</code><code class=\"plain\"> Facebook = require(</code><code class=\"string\">&apos;facebook&apos;</code><code class=\"plain\">);</code></div>\n<div class=\"line\">&#xA0;</div>\n<div class=\"line\"><code class=\"comments\">// call the ArrowDB Facebook SocialIntegrations API to link logged in states</code></div>\n<div class=\"line\"><code class=\"keyword\">function</code><code class=\"plain\"> updateLoginStatus() {</code></div>\n<div class=\"line\"><code class=\"plain\">    </code><code class=\"keyword\">if</code><code class=\"plain\"> (Facebook.loggedIn) {</code></div>\n<div class=\"line\"><code class=\"plain\">        label.text = </code><code class=\"string\">&apos;Logging in to ArrowDB as well, please wait...&apos;</code><code class=\"plain\">;</code></div>\n<div class=\"line\"><code class=\"plain\">        Cloud.SocialIntegrations.externalAccountLogin({</code></div>\n<div class=\"line\"><code class=\"plain\">            type: </code><code class=\"string\">&apos;facebook&apos;</code><code class=\"plain\">,</code></div>\n<div class=\"line\"><code class=\"plain\">            token: Facebook.accessToken</code></div>\n<div class=\"line\"><code class=\"plain\">        }, </code><code class=\"keyword\">function</code><code class=\"plain\"> (e) {</code></div>\n<div class=\"line\"><code class=\"plain\">            </code><code class=\"keyword\">if</code><code class=\"plain\"> (e.success) {</code></div>\n<div class=\"line\"><code class=\"plain\">                </code><code class=\"keyword\">var</code><code class=\"plain\"> user = e.users[0];</code></div>\n<div class=\"line\"><code class=\"plain\">                alert(</code><code class=\"string\">&apos;Logged in! You are now logged in as &apos;</code><code class=\"plain\"> + user.id);</code></div>\n<div class=\"line\"><code class=\"plain\">            }</code></div>\n<div class=\"line\"><code class=\"plain\">            </code><code class=\"keyword\">else</code><code class=\"plain\"> {</code></div>\n<div class=\"line\"><code class=\"plain\">                error(e);</code></div>\n<div class=\"line\"><code class=\"plain\">            }</code></div>\n<div class=\"line\"><code class=\"plain\">        });</code></div>\n<div class=\"line\"><code class=\"plain\">    }</code></div>\n<div class=\"line\"><code class=\"plain\">    </code><code class=\"keyword\">else</code><code class=\"plain\"> {</code></div>\n<div class=\"line\"><code class=\"plain\">        label.text = </code><code class=\"string\">&apos;Please login to Facebook.&apos;</code><code class=\"plain\">;</code></div>\n<div class=\"line\"><code class=\"plain\">    }</code></div>\n<div class=\"line\"><code class=\"plain\">}</code></div>\n<div class=\"line\">&#xA0;</div>\n<div class=\"line\"><code class=\"comments\">// when the user logs into or out of Facebook, link their login state with ArrowDB</code></div>\n<div class=\"line\"><code class=\"plain\">Facebook.addEventListener(</code><code class=\"string\">&apos;login&apos;</code><code class=\"plain\">, updateLoginStatus);</code></div>\n<div class=\"line\"><code class=\"plain\">Facebook.addEventListener(</code><code class=\"string\">&apos;logout&apos;</code><code class=\"plain\">, updateLoginStatus);</code></div>\n<div class=\"line\">&#xA0;</div>\n<div class=\"line\"><code class=\"comments\">// add the Facebook login button</code></div>\n<div class=\"line\"><code class=\"plain\">win.add(Facebook.createLoginButton({</code></div>\n<div class=\"line\"><code class=\"plain\">    top: 10</code></div>\n<div class=\"line\"><code class=\"plain\">}));</code></div>\n</div>\n    </div>\n            </td>\n        </tr>\n</tbody>        </table>\n            </div>\n    <p>For more examples, see the <a class=\"external-link external-link\" href=\"/arrowdb/latest/#!/api\">Mobile Backend Services API documentation</a>.    </p>\n    </div>\n    <div class=\"section section-2 \" id=\"src-49153760_TitaniumSDKandMobileBackendServices-ImportingandrunningtheTi.Cloudsampleapplication\">\n        <h2 class=\"heading \"><span>Importing and running the Ti.Cloud sample application</span></h2>\n    <p>The Titanium Cloud module also includes a sample application that demonstrates each of the MBS request types.    </p>\n    <p><strong class=\" \">To import and run the Ti.Cloud sample application</strong>:    </p>\n<ol class=\" \"><li class=\" \">    <p>In Studio, select <strong class=\" \">File</strong> &gt; <strong class=\" \">New</strong> &gt; <strong class=\" \">Mobile App Project</strong>.    </p>\n</li><li class=\" \">    <p>Select the Classic application type with the Default Project template.    </p>\n    <img src=\"images/download/attachments/49153760/classic.png\" alt=\"images/download/attachments/49153760/classic.png\" class=\"confluence-embedded-image\" width=\"500\">\n    </img></li><li class=\" \">    <p>In the New Mobile App Project dialog, enter values for the <strong class=\" \">Project Name</strong> and <strong class=\" \">App ID</strong> fields, and check the option to <strong class=\" \">Enable AMPLIFY Appcelerator Services</strong>.    </p>\n    <img src=\"images/download/attachments/49153760/enableservices.png\" alt=\"images/download/attachments/49153760/enableservices.png\" class=\"confluence-embedded-image\">\n    </img></li><li class=\" \">    <p>Click <strong class=\" \">Finish</strong>.    </p>\n</li><li class=\" \">    <p>From your desktop, navigate to the following folder, where <tt class=\" \">&lt;latest_version&gt;</tt> is the folder containing the latest SDK version:    </p>\n<ul class=\" \"><li class=\" \">    <p><strong class=\" \">Mac</strong>: <tt class=\" \">~Library/Application Support/Titanium/modules/commonjs/ti.cloud/&lt;latest_version&gt;/example</tt>    </p>\n</li><li class=\" \">    <p><strong class=\" \">Windows 7</strong>: <tt class=\" \">%ProgramData%\\Titanium\\modules\\commonjs\\ti.cloud\\&lt;latest_version&gt;\\example</tt>    </p>\n</li><li class=\" \">    <p><strong class=\" \">Windows 8</strong>: <tt class=\" \">%AppData%\\Titanium\\modules\\commonjs\\ti.cloud\\&lt;latest_version&gt;\\example</tt>    </p>\n</li><li class=\" \">    <p><strong class=\" \">Linux</strong>: <tt class=\" \">~/titaniumsdk/modules/commonjs/ti.cloud/&lt;latest_version&gt;\\example</tt>    </p>\n</li></ul></li><li class=\" \">    <p>Select all the folders and files in the <strong class=\" \">example</strong> folder and drag them to your project&apos;s <strong class=\" \">Resources</strong> folder.<br>    <img src=\"images/download/attachments/49153760/dragfiles.png\" alt=\"images/download/attachments/49153760/dragfiles.png\" class=\"confluence-embedded-image\">\n        </img></br></p>\n<ul class=\" \"><li class=\" \">    <p>If prompted, select the option to <strong class=\" \">Copy Files and Folders</strong> and click <strong class=\" \">OK</strong>.    </p>\n</li><li class=\" \">    <p>Click <strong class=\" \">Yes to All</strong> when asked if you want to overwrite files.    </p>\n</li></ul></li><li class=\" \">    <p>Open the project&apos;s <tt class=\" \">tiapp.xml</tt> file and, in the <strong class=\" \">Modules</strong> section, add the <strong class=\" \">facebook</strong> and <strong class=\" \">ti.cloudpush</strong> modules.<br>    <img src=\"images/download/attachments/49153760/modules.png\" alt=\"images/download/attachments/49153760/modules.png\" class=\"confluence-embedded-image\">\n        </img></br></p>\n</li><li class=\" \">    <p>Save <tt class=\" \">tiapp.xml</tt> and run the project on the desired device or emulator/simulator.    </p>\n</li></ol>    <p>Once the application is running, try the following:    </p>\n<ul class=\" \"><li class=\" \">    <p>Create a new user by selecting <strong class=\" \">Users </strong>&gt;<strong class=\" \"> Create User</strong>. Enter a username, password and password confirmation, first name, and last name, then click <strong class=\" \">Create</strong>. If the user is created successfully, the following dialog is shown:<br>    <img src=\"images/download/attachments/49153760/new_user_success.png\" alt=\"images/download/attachments/49153760/new_user_success.png\" class=\"confluence-embedded-image\">\n        </img></br></p>\n</li><li class=\" \">    <p>View the newly created user in Dashboard:    </p>\n<ol class=\" \"><li class=\" \">    <p>Open <a class=\"external-link external-link\" href=\"https://platform.appcelerator.com/\" target=\"_blank\">Dashboard</a> and select your application from the <strong class=\" \">Apps</strong> menu.    </p>\n</li><li class=\" \">    <p>Select <strong class=\" \">Cloud </strong>&gt;<strong class=\" \"> Manage Data</strong>, then click <strong class=\" \">Users</strong> in the Manage Data Object table. You should see the user you created listed in the Users table.    </p>\n    <img src=\"images/download/attachments/49153760/verify_new_user.png\" alt=\"images/download/attachments/49153760/verify_new_user.png\" class=\"confluence-embedded-image\" width=\"500\">\n    </img></li></ol></li></ul>    </div>\n    <div class=\"section section-2 \" id=\"src-49153760_TitaniumSDKandMobileBackendServices-References\">\n        <h2 class=\"heading \"><span>References</span></h2>\n<ul class=\" \"><li class=\" \">    <p><a class=\"external-link external-link\" href=\"/arrowdb/latest/#!/api\">ArrowDB API Reference</a>    </p>\n</li><li class=\" \">    <p><a class=\"external-link external-link\" href=\"#!/api/Modules.Cloud\">Modules.Cloud Module Reference</a>    </p>\n</li></ul>    </div>\n        </div><a id=\"editButton\" href=\"https://wiki.appcelerator.org/pages/editpage.action?pageId=49153760\"><span>Edit</span></a>\n    \n        \n    </div>\n</body>\n</html>\n","title":"Titanium SDK and Mobile Backend Services"});