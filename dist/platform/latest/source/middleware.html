<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js"><span id='Arrow-Middleware'>/**
</span> * @class Arrow.Middleware
 * The Middleware class sets up additional features for the Express app instance, such as the adding
 * busboy, body-parser, cookie-parser and compression modules and initializing the renderer engines used
 * by the Arrow Web components. To access the middleware instance, use the Arrow instance&#39;s
 * `middleware` property.
 *
 * ### Renderer Engines
 *
 * API Builder Tools provides renderer engines for EJS, Handlebars, HTML, Markdown and React templates.
 * The renderer engines are used by the Arrow Web component to render HTML to a web client.
 * To access the renderers, use the {@link Arrow.Middleware#static-method-getRendererEngine getRendererEngine()}
 * method and pass it the extension of the renderer engine to retrieve. The renderer engine provides
 * access to the module&#39;s APIs.
 *
 * To create a custom renderer engine, create an object that implements the
 * {@link ArrowRendererEngine#createRenderer createRenderer()} method and specifies the
 * {@link ArrowRendererEngine#extension extension}. Pass the object to the Middleware instance&#39;s
 * {@link Arrow.Middleware#registerRendererEngine registerRendererEngine())} method.
 *
 * For example, to implement a renderer engine for Jade templates:
 *
 *     var jade = require(&#39;jade&#39;),
 *         engine = {};
 *     engine.jade = jade;
 *     engine.createRenderer = function (content, filename, app) {
 *         return function(filename, opts, callback) {
 *             if (!content) {
 *                 content = require(&#39;fs&#39;).readFileSync(filename, &#39;utf8&#39;).toString();
 *             }
 *             callback(null, jade.render(content, opts));
 *         }
 *     };
 *     engine.extension = &#39;jade&#39;;
 *     server.middleware.registerRendererEngine(engine);
 *
 * Any view with a `jade` extension will be routed to the Jade renderer engine.
 */

<span id='ArrowRendererEngine'>/**
</span> * @class ArrowRendererEngine
 * A renderer engine provides access to the underlying module&#39;s APIs in addition to the ones
 * defined here. If you are implementing your own custom renderer engine, you need to implement
 * the {@link #createRenderer} method and specify the {@link #extension}.
 *
 * API Builder Tools provides the renderer engines for the following template formats:
 *
 *  * {@link EjsRendererEngine EJS}
 *  * {@link HandlebarsRendererEngine Handlebars}
 *  * {@link HtmlRendererEngine HTML}
 *  * {@link MarkdownRendererEngine Markdown}
 *  * {@link ReactRendererEngine React}
 * @pseudo
 */
<span id='ArrowRendererEngine-method-createRenderer'>/**
</span> * @method createRenderer
 * Returns a function to generate the HTML. Pass the returned function the path of the template file,
 * a context object (data to pass to the template), and a callback passed an Error object
 * (or null if successful) and the HTML to render.
 * @param {String} content Template string to compile and render. Set to `null` if `skipread` is `true`.
 * @param {String} filename Path of the template file.
 * @param {Object} app Express app instance.
 * @returns {Function}
 *
 */
<span id='ArrowRendererEngine-property-extension'>/**
</span> * @property {String} extension
 * File extension the renderer engine will handle.
 */
<span id='ArrowRendererEngine-property-skipread'>/**
</span> * @property {Boolean} skipread
 * Set to `true` to skip reading the file and converting it to a string for the `content`
 * parameter of the `createRenderer()` function.
 */
</pre>
</body>
</html>
