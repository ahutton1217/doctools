<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js"><span id='Arrow-Block'>/**
</span> * @class Arrow.Block
 * A Block is a function that is executed before or after calling an API endpoint.
 *
 * To create a block, pass the constructor an implementation object, Arrow configuration object
 * and Arrow instance to create a block instance, then pass the Block instance to the
 * Arrow instance&#39;s {@link Arrow#addBlock addBlock()} method.
 *
 *     var block = new Arrow.Block({
 *         name: &#39;blocky&#39;,
 *         execute: function (request, response, next) {
 *             next();
 *         }
 *     });
 *     server.addBlock(block);
 *
 * To use a block, assign it to the `before` or `after` property of the implementation object
 * passed to the API or Model constructor. A Block is identified by its `name` property.
 * You may specify more than one block by using an array. The blocks will be executed in order.
 *
 *     var fooAPI = new Arrow.API({
 *         group: &#39;foo&#39;,
 *         path: &#39;/api/foo/&#39;,
 *         method: &#39;GET&#39;,
 *         description: &#39;Get all the Foo objects&#39;,
 *         before: [&#39;block1&#39;, &#39;block2&#39;],
 *         model: &#39;testuser&#39;,
 *         action: function(request, response, next) {
 *             request.model.findAll(function(err, results) {
 *                 if (err) {
 *                     next(err);
 *                 } else {
 *                     next(null, results);
 *                 }
 *             });
 *         }
 *     }, server.config, server);
 *     fooAPI.bind(server.app);
 *
 * Alternatively, you can define your Blocks using JavaScript files. For details, see the
 * [Arrow Blocks guide](http://docs.appcelerator.com/platform/latest/#!/guide/Arrow_Blocks).
 */

<span id='Arrow-Block-method-constructor'>/**
</span> * @constructor
 * Creates an new instance of a Block.
 * @param {Dictionary&lt;Arrow.Block&gt;} impl Implementation object.
 * Set any Block properties on the object except the ones marked non-creation.
 * The {@link #name} property must be set.
 * @param {Object} config Arrow configuration object.
 * @param {Arrow} arrow Arrow instance.
 * @throws Error Missing `name` parameter.
 */

<span id='Arrow-Block-property-arrow'>/**
</span> * @property {Arrow} arrow
 * @nonCreation
 * Arrow instance associated with the Block instance.
 */
<span id='Arrow-Block-property-config'>/**
</span> * @property {Object} config
 * @nonCreation
 * Configuration object used to initialize the Block instance.
 */
<span id='Arrow-Block-property-constructor'>/**
</span> * @property {Function} constructor
 * Custom constructor to execute custom initialization logic. The new block instance is passed to
 * `this` in the function.
 */
<span id='Arrow-Block-property-description'>/**
</span> * @property {String} description
 * Human-readable description of the block, which is used by the generated API documentation.
 */
<span id='Arrow-Block-property-execute'>/**
</span> * @property {Function} execute
 * Logic to execute. The function is passed a `request` object, `response` object and `next()` callback.
 * After the operation completes, call the `next()` function.
 */
<span id='Arrow-Block-property-filename'>/**
</span> * @property {String} filename
 * @nonCreation
 * File used to load the Block instance.
 */
<span id='Arrow-Block-property-name'>/**
</span> * @property {String} name
 * Name used to identify the block.
 */
</pre>
</body>
</html>
